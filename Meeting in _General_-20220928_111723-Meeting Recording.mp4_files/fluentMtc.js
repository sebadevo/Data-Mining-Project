(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[341],{"":function(){},152:function(e,t,n){"use strict";n.d(t,"t",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"n",function(){return _}),n.d(t,"i",function(){return h});var a=n(0),i=n(43),r=n.n(i),o=n(1944),s=n(863),c=n(3264),d=n(189),l=n(558),u=r.a.createContext({}),f=["Enter","Space","KeyG","KeyK","KeyM","KeyC","KeyL","KeyJ","KeyS","KeyX","KeyZ","ArrowRight","ArrowLeft","ArrowUp","ArrowDown","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","KeyO","KeyT","Slash"],p=function(e){var t=e.children,n=e.player,i=e.log,f=e.loc,p=e.settingsStore,m=e.playerContainer,_=e.showPlaybackSpeed,h=e.showPopOutButton,b=e.themeData,g=e.getHostTheme,v=e.overflowButtons,y=e.reportUserActivity,S=e.pluginsKeyboardShortcuts,D=e.criticalPlaybackContainer,I=e.playerRegionContainer,x=e.isNextGenEngineEnabled,C=e.popOutButtonItemUrlQueryStringProperties,O=e.getItemUrl,w=r.a.useState(!1),E=w[0],A=w[1],L=x&&Object(d.e)(p.getSettingObject("isNextGenEngineScreenAlertEnabled","boolean")),k=r.a.useMemo(function(){return Object(d.e)(p.getSettingObject("isFluentPipEnabled","boolean"))&&document.pictureInPictureEnabled},[n,p]);r.a.useEffect(function(){return document.addEventListener("keydown",T),Object(d.e)(p.getSettingObject("isFluentMtcDoubleClickFullscreenFixEnabled","boolean"))&&I&&I.addEventListener("dblclick",P),function(){document.removeEventListener("keydown",T),Object(d.e)(p.getSettingObject("isFluentMtcDoubleClickFullscreenFixEnabled","boolean"))&&m.removeEventListener("dblclick",P)}},[]);var M=r.a.useCallback(function(e){return Object(d.e)(p.getSettingObject(e,"boolean"))},[]),P=function(){N()?K("LeftClick"):G(m,"LeftClick")},T=function(e){switch(e.code){case"Enter":if(e.altKey)N()?K("KeyDown"):G(m,"KeyDown");else{var t=m.querySelector("video");t&&document.activeElement===t&&R("KeyDown")}break;case"Space":var a=m.querySelector("video");a&&document.activeElement===a&&R("KeyDown");break;case"KeyK":e.altKey&&R("KeyDown");break;case"KeyM":e.altKey&&Q("KeyDown");break;case"KeyC":e.altKey&&B();break;case"KeyX":e.altKey&&_&&F("increase");break;case"KeyZ":e.altKey&&_&&F("decrease");break;case"KeyL":e.altKey&&void 0!==n.currentTimeInSeconds.value&&H("forward",10,"KeyDown");break;case"KeyJ":e.altKey&&void 0!==n.currentTimeInSeconds.value&&H("backward",10,"KeyDown");break;case"KeyS":e.altKey&&Object(d.e)(p.getSettingObject("isFluentKeyboardShortcutsModalShortcutFixEnabled","boolean"))&&!Object(d.e)(p.getSettingObject("isFluentKeyboardShortcutsModalShortcutUpdatedFixEnabled","boolean"))&&z("KeyDown");break;case"KeyG":e.altKey&&Object(d.e)(p.getSettingObject("isFluentKeyboardShortcutsModalShortcutUpdatedFixEnabled","boolean"))&&z("KeyDown");break;case"ArrowRight":e.altKey&&void 0!==n.currentTimeInSeconds.value&&(e.preventDefault(),e.stopPropagation(),H("forward",15,"KeyDown"));break;case"ArrowLeft":e.altKey&&void 0!==n.currentTimeInSeconds.value&&(e.preventDefault(),e.stopPropagation(),H("backward",15,"KeyDown"));break;case"ArrowUp":e.altKey&&U("increase");break;case"ArrowDown":e.altKey&&U("decrease");break;case"Digit0":e.altKey&&void 0!==n.currentTimeInSeconds.value&&(n.currentTimeInSeconds.value=0);break;case"Digit1":e.altKey&&void 0!==n.currentTimeInSeconds.value&&j(.1);break;case"Digit2":e.altKey&&void 0!==n.currentTimeInSeconds.value&&j(.2);break;case"Digit3":e.altKey&&void 0!==n.currentTimeInSeconds.value&&j(.3);break;case"Digit4":e.altKey&&void 0!==n.currentTimeInSeconds.value&&j(.4);break;case"Digit5":e.altKey&&void 0!==n.currentTimeInSeconds.value&&j(.5);break;case"Digit6":e.altKey&&void 0!==n.currentTimeInSeconds.value&&j(.6);break;case"Digit7":e.altKey&&void 0!==n.currentTimeInSeconds.value&&j(.7);break;case"Digit8":e.altKey&&void 0!==n.currentTimeInSeconds.value&&j(.8);break;case"Digit9":e.altKey&&void 0!==n.currentTimeInSeconds.value&&j(.9);break;case"KeyO":e.altKey&&h.value&&V("KeyDown");break;case"KeyP":k&&e.altKey&&X(n.getVideoElement(),!1,"KeyDown");break;case"Slash":!e.altKey||Object(d.e)(p.getSettingObject("isFluentKeyboardShortcutsModalShortcutFixEnabled","boolean"))||Object(d.e)(p.getSettingObject("isFluentKeyboardShortcutsModalShortcutUpdatedFixEnabled","boolean"))||z("KeyDown");break;default:if(e.altKey){var i=S.value.get(e.code);i&&i.callback()}}y()},U=function(e){var t=n.volume.value,a=0;a="increase"===e?n.volume.value+.1>=1?1:n.volume.value+.1:n.volume.value-.1<=0?0:n.volume.value-.1,n.volume.value=a,i.userAction("PlayerChangeSettingAction",{actionType:"KeyDown",name:"ChangeVolume",oldSetting:t.toString(),newSetting:a.toString(),playbackTimeSec:n.currentTimeInSeconds.value||-1})},F=function(e){var t;if("increase"===e){if(-1!==(t=n.playbackRates.findIndex(function(e){return e===n.playbackRate.value}))&&t<n.playbackRates.length-1){n.playbackRate.value=n.playbackRates[t+1];var a=Object(o.e)(f.getString("FluentPlaybackSpeedChangedStatusMessage"),n.playbackRates[t+1].toString());Object(s.e)(a,!0)}}else(t=n.playbackRates.findIndex(function(e){return e===n.playbackRate.value}))>0&&(n.playbackRate.value=n.playbackRates[t-1],a=Object(o.e)(f.getString("FluentPlaybackSpeedChangedStatusMessage"),n.playbackRates[t-1].toString()),Object(s.e)(a,!0))},H=function(e,t,a){if(void 0!==n.currentTimeInSeconds.value&&(n.currentTimeInSeconds.value="forward"===e?Math.min(n.currentTimeInSeconds.value+t,n.mediaDurationInSeconds):Math.max(n.currentTimeInSeconds.value-t,0),i.userAction("PlayerButtonAction",{name:"backward"===e?"SkipBackward":"SkipForward",playbackTimeSec:n.currentTimeInSeconds.value||-1,actionType:a}),L)){var r="forward"===e?f.getString("VideoSkippedForwardMessage"):f.getString("VideoSkippedBackwardMessage");Object(s.e)(Object(o.e)(r,Math.floor(t).toString()),!0)}},R=function(e){"Playing"===n.playState.value?n.playState.value="Paused":"Paused"===n.playState.value&&(n.playState.value="Playing"),i.userAction("PlayerPlayPauseAction",{name:"Paused"===n.playState.value?"Play":"Pause",playbackTimeSec:n.currentTimeInSeconds.value||-1,actionType:e})},N=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},B=function(){var e,t="off";if(!n.activeTextTrack.value&&n.textTracks.value.length>0){t=n.textTracks.value[0].label,n.activeTextTrack.value=n.textTracks.value[0];var a=Object(o.e)(f.getString("FluentCaptionsChangedStatusMessage"),t);Object(s.e)(a,!0)}else{for(var r=-1,c=0;c<n.textTracks.value.length;c++)if(n.textTracks.value[c].label===(null===(e=n.activeTextTrack.value)||void 0===e?void 0:e.label)){r=c;break}r===n.textTracks.value.length-1?(n.disableTextTracks(),Object(s.e)(f.getString("CaptionsTurnedOffMessage"),!0)):(t=n.textTracks.value[r+1].label,n.activeTextTrack.value=n.textTracks.value[r+1],a=Object(o.e)(f.getString("FluentCaptionsChangedStatusMessage"),t),Object(s.e)(a,!0))}i.userAction("PlayerButtonAction",{name:"off"===t?"CaptionsOff":"CaptionsOn",playbackTimeSec:n.currentTimeInSeconds.value||-1,actionType:"KeyDown"})},j=function(e){void 0!==n.currentTimeInSeconds.value&&(n.currentTimeInSeconds.value=Math.round(n.mediaDurationInSeconds*e))},V=function(e,t){i.userAction("PlayerButtonAction",{name:"PopOut",actionType:e,playbackTimeSec:n.currentTimeInSeconds.value?n.currentTimeInSeconds.value:-1,inOverflowMenu:t});var a=O();if(Object(d.e)(p.getSettingObject("isPopOutReferralTelemetryEnabled","boolean"))){if(C&&a){var r=C;Object(d.e)(p.getSettingObject("isPopOutNavQosFixEnabled","boolean"))&&(r=function(e,t){var n=new URL(t).searchParams.get("nav"),a=new URL(e);return n&&a.searchParams.set("nav",n),a}(C,a).toString()),window.open(r,"_blank"),Object(d.e)(p.getSettingObject("isPopOutPauseVideoEnabled","boolean"))&&(n.playState.value="Paused")}}else r=n.itemUrl.value,Object(d.e)(p.getSettingObject("isPopOutNavQosFixEnabled","boolean"))&&(r=a),r&&(window.open(r,"_blank"),Object(d.e)(p.getSettingObject("isPopOutPauseVideoEnabled","boolean"))&&(n.playState.value="Paused"))},z=function(e){A(!0),i.userAction("PlayerButtonAction",{name:"OpenKeyboardShortcuts",actionType:e,playbackTimeSec:n.currentTimeInSeconds.value?n.currentTimeInSeconds.value:-1})},G=function(e,t,n){return Object(a.t)(void 0,void 0,void 0,function(){var i,r;return Object(a.i)(this,function(o){switch(o.label){case 0:return o.trys.push([0,13,,14]),e.requestFullscreen?[4,e.requestFullscreen()]:[3,2];case 1:return o.sent(),[3,12];case 2:return e.msRequestFullscreen?[4,e.msRequestFullscreen()]:[3,4];case 3:return o.sent(),[3,12];case 4:return e.webkitRequestFullscreen?[4,e.webkitRequestFullscreen()]:[3,6];case 5:return o.sent(),[3,12];case 6:return e.mozRequestFullScreen?[4,e.mozRequestFullScreen()]:[3,8];case 7:return o.sent(),[3,12];case 8:return Object(c.t)()?(i=e.querySelector("video"))&&i.webkitEnterFullscreen?[4,i.webkitEnterFullscreen()]:[3,10]:[3,11];case 9:o.sent(),i.addEventListener("webkitpresentationmodechanged",function(){return Object(a.t)(void 0,void 0,void 0,function(){return Object(a.i)(this,function(e){switch(e.label){case 0:return[4,K("LeftClick",n)];case 1:return e.sent(),[2]}})})}),o.label=10;case 10:return[3,12];case 11:return q(!1,new Error("requestFullscreen method not found.")),[2];case 12:return Object(d.e)(p.getSettingObject("isFluentMtcFullscreenChangeHandlerTelemetryEventsEnabled","boolean"))||W(!0,t,n),L&&Object(s.e)(f.getString("EnteredFullscreenAria"),!0),[3,14];case 13:return r=o.sent(),q(!0,r),[3,14];case 14:return[2]}})})},K=function(e,t){return Object(a.t)(void 0,void 0,void 0,function(){var n,i;return Object(a.i)(this,function(a){switch(a.label){case 0:return a.trys.push([0,13,,14]),document.exitFullscreen?[4,document.exitFullscreen()]:[3,2];case 1:return a.sent(),[3,12];case 2:return document.webkitExitFullscreen?[4,document.webkitExitFullscreen()]:[3,4];case 3:return a.sent(),[3,12];case 4:return document.mozCancelFullScreen?[4,document.mozCancelFullScreen()]:[3,6];case 5:return a.sent(),[3,12];case 6:return document.msExitFullscreen?[4,document.msExitFullscreen()]:[3,8];case 7:return a.sent(),[3,12];case 8:return Object(c.t)()?(n=m.querySelector("video"))&&n.webkitExitFullscreen?[4,n.webkitExitFullscreen()]:[3,10]:[3,11];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:return q(!1,new Error("exitFullscreen method not found.")),[2];case 12:return!Object(d.e)(p.getSettingObject("isFluentMtcFullscreenChangeHandlerTelemetryEventsEnabled","boolean"))&&e&&W(!1,e,t),L&&Object(s.e)(f.getString("ExitedFullscreenAria"),!0),[3,14];case 13:return i=a.sent(),q(!1,i),[3,14];case 14:return[2]}})})},W=function(e,t,a){i.userAction("PlayerButtonAction",{name:e?"FullScreen":"ExitFullScreen",playbackTimeSec:n.currentTimeInSeconds.value||-1,actionType:t,inOverflowMenu:a})},q=function(e,t){i.warn("PlayerError",t,{name:e?Object(l.n)("enterFullscreen failed."):Object(l.n)("exitFullscreen failed."),isExpected:!1,codeLocation:"Fluent FullscreenToggle"})},Q=function(e){if(!1!==n.hasAudio.value&&(n.muted.value=!n.muted.value,i.userAction("PlayerButtonAction",{name:n.muted.value?"Mute":"Unmute",playbackTimeSec:n.currentTimeInSeconds.value||-1,actionType:e}),L)){var t=n.muted.value?"VideoMutedMessage":"VideoUnmutedMessage";Object(s.e)(f.getString(t),!0)}},Y=function(e,t,a){i.userAction("PlayerButtonAction",{name:e?"PictureInPicture":"ExitPictureInPicture",actionType:a,playbackTimeSec:n.currentTimeInSeconds.value?n.currentTimeInSeconds.value:-1,inOverflowMenu:t})},J=function(e,t){i.warn("PlayerError",t,{name:e?Object(l.n)("enterPictureInPicture failed."):Object(l.n)("exitPictureInPicture failed."),isExpected:!1,codeLocation:"Fluent PictureInPictureToggle"})},X=function(e,t,n){return Object(a.t)(void 0,void 0,void 0,function(){var i,r;return Object(a.i)(this,function(a){switch(a.label){case 0:if(!document.pictureInPictureElement)return[3,5];Y(!1,t,n),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,document.exitPictureInPicture()];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),J(!1,i),[3,4];case 4:return[3,9];case 5:if(!document.pictureInPictureEnabled)return[3,9];Y(!0,t,n),a.label=6;case 6:return a.trys.push([6,8,,9]),[4,e.requestPictureInPicture()];case 7:return a.sent(),[3,9];case 8:return r=a.sent(),J(!0,r),[3,9];case 9:return[2]}})})};return r.a.createElement(u.Provider,{value:{loc:f,log:i,player:n,playerContainer:m,settingsStore:p,rtl:"rtl"===f.getString("direction"),showPlaybackSpeed:_,showPopOutButton:h,themeData:b,getHostTheme:g,handlers:{isKeyboardShortcutsModalOpen:E,togglePlayPause:R,requestFullscreen:G,exitFullscreen:K,toggleMute:Q,handlePopOutClick:V,handlePopOutHover:function(e,t){i.userAction("PlayerButtonAction",{name:"PopOutTooltipShown",actionType:e,playbackTimeSec:n.currentTimeInSeconds.value?n.currentTimeInSeconds.value:-1,inOverflowMenu:t})},openKeyboardShortcutModal:z,closeKeyboardShortcutModal:function(){A(!1),i.userAction("PlayerButtonAction",{name:"CloseKeyboardShortcuts",actionType:"LeftClick",playbackTimeSec:n.currentTimeInSeconds.value?n.currentTimeInSeconds.value:-1})},skipXs:H,handlePictureInPicture:X},overflowButtons:v,criticalPlaybackContainer:D,useBooleanSetting:M,isNextGenEngineEnabled:x}},t)};function m(){var e=r.a.useContext(u);if(!e)throw new Error("usePlaybackExperienceContext must be used within the MtcContextProvider");return e}function _(){var e=r.a.useContext(u);if(!e)throw new Error("usePlaybackControlsContext must be used within the MtcContextProvider");return e}function h(){var e=r.a.useContext(u);if(!e)throw new Error("useSeekBarContext must be used within the MtcContextProvider");return e}},1666:function(e,t,n){"use strict";n.r(t),n.d(t,"MtcManager",function(){return ut});var a=n(43),i=n.n(a),r=n(47),o=n.n(r),s=n(1215),c=n(0),d=n(3274),l=n(3246),u=n(3624),f=n(3264),p=n(2055),m=n(2104),_=n(377),h=n(357),b=Object(m.e)({tooltip:{zIndex:1e5},containerStyle:{display:"flex",backgroundColor:h.e.transparent},buttonStyle:Object(c.e)(Object(c.e)({display:"flex"},_.e.borderRadius("0")),{color:h.e.White,"@media screen and (-ms-high-contrast: active)":{color:"HighlightText",backgroundColor:"GrayText"},":hover":Object(c.e)({color:h.e.White,backgroundColor:h.e.Gray160Hover},_.e.borderRadius("2px")),":active":Object(c.e)({color:h.e.White,backgroundColor:h.e.Gray150Active},_.e.borderRadius("2px")),":hover:active":Object(c.e)({color:h.e.White,backgroundColor:h.e.Gray150Active},_.e.borderRadius("2px")),":focus-visible":{boxShadow:"0 0 2px rgba(0, 0, 0, 0.24), 0 2px 4px rgba(0, 0, 0, 0.28), 0 0 0 2px white !important"}}),disabledButtonStyle:Object(c.e)(Object(c.e)({display:"flex"},_.e.borderRadius("0")),{color:h.e.GrayDisabled,"@media screen and (-ms-high-contrast: active)":{color:"ButtonText",backgroundColor:"GrayText",outlineColor:"ButtonText"}}),buttonIconStyle:{width:"20px",height:"20px"}}),g=n(3415),v=n(1944),y=n(189),S=n(152),D=n(3407),I=n(356),x=n(3251),C=n(3603),O=Object(m.e)({captionsPopover:Object(c.e)(Object(c.e)({"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:h.e.Gray70},backgroundColor:h.e.Gray170WithOpacity,width:"243px",maxWidth:"243px",boxShadow:"none",bottom:"20px !important"},_.e.borderRadius("2px")),_.e.padding(0)),playbackSpeedPopover:Object(c.e)(Object(c.e)({width:"90px",maxWidth:"90px",minWidth:"90px",backgroundColor:h.e.Gray170WithOpacity,bottom:"20px !important","&::-webkit-scrollbar":{width:"3px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#BFBFBF"}},_.e.padding(0)),_.e.borderRadius("2px")),settingsPopover:Object(c.e)(Object(c.e)(Object(c.e)(Object(c.e)(Object(c.e)({"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:h.e.Gray70},backgroundColor:h.e.Gray170WithOpacity,width:"275px",maxWidth:"275px",boxShadow:"none"},_.e.overflow("hidden")),{bottom:"20px !important"}),_.e.borderRadius("2px")),_.e.padding("3px")),_.e.border(0)),menuItem:{backgroundColor:"transparent"},menuTrigger:Object(c.e)(Object(c.e)({backgroundColor:h.e.transparent,width:"32px",height:"32px",minWidth:"32px",color:h.e.White,":hover":Object(c.e)({color:h.e.White,backgroundColor:h.e.Gray160Hover},_.e.borderRadius("2px")),":active":Object(c.e)({color:h.e.White,backgroundColor:h.e.Gray150Active},_.e.borderRadius("2px")),":hover:active":Object(c.e)({color:h.e.White,backgroundColor:h.e.Gray150Active},_.e.borderRadius("2px")),'&[aria-expanded="true"]:after':{content:"''",display:"block",height:"2px",width:"32px",position:"absolute",bottom:"0px",backgroundColor:h.e.White,boxSizing:"inherit"},'&[aria-checked="true"]:after':{content:"''",display:"block",height:"2px",width:"32px",position:"absolute",bottom:"0px",backgroundColor:h.e.White,boxSizing:"inherit"},":focus-visible":{boxShadow:"0 0 2px rgba(0, 0, 0, 0.24), 0 2px 4px rgba(0, 0, 0, 0.28), 0 0 0 2px white !important"}},_.e.borderStyle("none")),_.e.padding("0px")),iconMenuTrigger:{"@media screen and (-ms-high-contrast: active)":{color:"HighlightText",backgroundColor:"GrayText"}},textMenuTrigger:{"@media screen and (-ms-high-contrast: active)":{backgroundColor:"GrayText"}},menuTriggerInOverflow:Object(c.e)(Object(c.e)({width:"100%",justifyContent:"left"},_.e.padding("0px")),{'&[aria-expanded="true"]:after':{marginTop:"34px",width:"20px",bottom:"unset"},'&[aria-checked="true"]:after':{marginTop:"34px",width:"20px",bottom:"unset"}}),buttonInOverflow:Object(c.e)(Object(c.e)(Object(c.e)(Object(c.e)({width:"calc(100% - 4px)",height:"32px",fontWeight:"unset",justifyContent:"left"},_.e.borderStyle("none")),_.e.padding("0px")),_.e.margin("2px")),{paddingRight:"6px",paddingLeft:"6px"}),buttonInOverflowRtlFix:{justifyContent:"inherit"},tooltip:{zIndex:1e5}}),w=function(e){var t=Object(S.a)(),n=t.settingsStore,a=t.rtl,r=t.playerContainer,o=b(),s=O(),c=i.a.useMemo(function(){return Object(y.e)(n.getSettingObject("isOverflowableButtonRtlFixEnabled","boolean"))},[]),d=e.disabled&&Object(y.e)(n.getSettingObject("isFluentDisabledButtonFixEnabled","boolean"))?o.disabledButtonStyle:o.buttonStyle,l=Object(I.e)(d,e.inOverflowMenu&&s.buttonInOverflow,e.additionalClassNames,a&&c&&s.buttonInOverflowRtlFix);i.a.useEffect(function(){c&&(a?r.style.setProperty("--fui-Button__icon--spacing","0px"):r.style.setProperty("--fui-Button__icon--spacing","var(--spacingHorizontalSNudge)"))},[a,c,r]);var u=i.a.createElement(x.e,{role:e.ariaRole,"aria-label":e.ariaLabel,"aria-description":e.ariaDescription,"aria-checked":"menuitemcheckbox"===e.ariaRole?e.ariaChecked:void 0,className:l,appearance:"transparent",icon:e.icon,onClick:e.onClick,disabled:e.disabled},e.inOverflowMenu?e.buttonCaptionWhenInOverflowMenu:null);return e.inOverflowMenu?u:i.a.createElement(C.e,{withArrow:!0,content:{className:o.tooltip,children:e.tooltipText},relationship:"inaccessible",mountNode:e.tooltipMountNode,onVisibleChange:e.handleTooltipHover},u)},E=n(694),A=i.a.memo(function(e){var t,n=Object(S.a)(),a=n.handlers,r=n.loc,o=n.playerContainer,s=n.settingsStore,c=n.log,d=n.player,l=n.useBooleanSetting,u=i.a.useState(function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}),p=u[0],m=u[1],_=Object(E.i)(d.loadingState)[0],h=i.a.useMemo(function(){if(Object(y.e)(s.getSettingObject("isFullscreenIsAllowedEnabled","boolean"))){var e=o.querySelector("video");return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||e&&e.readyState>1&&e.webkitSupportsFullscreen)}},[o,_]),b=l("isFluentMtcCheckedStateFixEnabled"),I=l("isFullscreenVoiceAccessFixEnabled");return t=Object(y.e)(s.getSettingObject("isFluentMtcFullscreenChangeHandlerTelemetryEventsEnabled","boolean"))?function(){var t=!(!document.fullscreenElement||document.fullscreenElement.id!==o.id);c.userAction("PlayerButtonAction",{name:t?"FullScreen":"ExitFullScreen",playbackTimeSec:d.currentTimeInSeconds.value||-1,actionType:"Unknown",inOverflowMenu:e.inOverflowMenu}),m(t)}:function(){m(!(!document.fullscreenElement||document.fullscreenElement.id!==o.id))},i.a.useEffect(function(){return document.addEventListener("fullscreenchange",t),function(){document.removeEventListener("fullscreenchange",t)}},[]),i.a.createElement(w,{ariaRole:"menuitemcheckbox",tooltipMountNode:e.tooltipMountNode,inOverflowMenu:e.inOverflowMenu,ariaLabel:r.getString(I?"FullScreenButtonAriaLabelV2":"FullScreenButtonAriaLabel"),ariaDescription:Object(v.e)(r.getString("FullScreenButtonDescription"),D.e),ariaChecked:b?p:void 0,icon:p?i.a.createElement(g.t,null):i.a.createElement(g.e,null),onClick:function(){Object(y.e)(s.getSettingObject("isFullscreenIsAllowedEnabled","boolean"))&&!1===h||(p?(a.exitFullscreen("LeftClick",e.inOverflowMenu),m(!1)):(a.requestFullscreen(o,"LeftClick",e.inOverflowMenu),Object(f.t)()||m(!0)))},buttonCaptionWhenInOverflowMenu:r.getString("FullScreenButtonButtonLabel"),tooltipText:!1===h?r.getString("FullScreenButtonUnsupportedTooltip"):p?Object(v.e)(r.getString(I?"FullScreenButtonExitTooltipV2":"FullScreenButtonExitTooltip"),D.e):Object(v.e)(r.getString(I?"FullScreenButtonTooltipV2":"FullScreenButtonTooltip"),D.e),disabled:void 0===h?void 0:!h})}),L=n(3408),k=n(3416),M=n(3406),P=function(e){var t,n=Object(S.a)(),a=n.handlers,r=n.loc,o=(n.log,n.settingsStore),s=a.handlePopOutClick,c=a.handlePopOutHover,d=Object(v.e)(r.getString("PopOutButtonTooltip"),D.e),l=r.getString("PopOutButtonAriaLabel"),u=r.getString("PopOutButtonLabel");Object(y.e)(o.getSettingObject("isStreamPopOutTooltipTextEnabled","boolean"))&&(d=Object(v.e)(r.getString("StreamPopOutButtonTooltip"),D.e),l=r.getString("StreamPopOutButtonAriaLabel"),u=r.getString("StreamPopOutButtonLabel"));var f=i.a.createElement(L.e,null),p=null===(t=o.getSettingObject("PopOutIcon","string"))||void 0===t?void 0:t.value;return"Teams"===p?f=i.a.createElement(k.e,null):"Stream"===p&&(f=i.a.createElement(M.r,null)),i.a.createElement(w,{ariaRole:"menuitem",tooltipMountNode:e.tooltipMountNode,inOverflowMenu:e.inOverflowMenu,ariaLabel:l,ariaDescription:Object(v.e)(r.getString("PopOutButtonDescription"),D.e),icon:f,onClick:function(){s("LeftClick",e.inOverflowMenu)},buttonCaptionWhenInOverflowMenu:u,tooltipText:d,handleTooltipHover:function(t,n){n.visible&&Object(y.e)(o.getSettingObject("isStreamPopOutTooltipTelemetryEnabled","boolean"))&&c("Hover",e.inOverflowMenu)}})},T=n(316),U=function(e){var t=b(),n=Object(S.n)(),a=n.handlers,r=n.player,o=n.loc,s=Object(E.i)(r.playState)[0],c=i.a.useMemo(function(){return"Paused"===s?{tooltipLabel:Object(v.e)(o.getString("PlayTooltip"),D.e),buttonAriaLabel:o.getString("Play"),buttonAriaDescLabel:Object(v.e)(o.getString("PlayPauseDescription"),D.e),buttonIcon:i.a.createElement(M.i,{className:t.buttonIconStyle})}:{tooltipLabel:Object(v.e)(o.getString("PauseTooltip"),D.e),buttonAriaLabel:o.getString("Pause"),buttonAriaDescLabel:Object(v.e)(o.getString("PlayPauseDescription"),D.e),buttonIcon:i.a.createElement(L.t,{className:t.buttonIconStyle})}},[s,o]);return i.a.createElement(C.e,{content:{className:t.tooltip,children:c.tooltipLabel},relationship:"label",withArrow:!0,mountNode:e.tooltipMountNode},i.a.createElement(x.e,{role:"menuitem",icon:c.buttonIcon,onClick:function(){a.togglePlayPause("LeftClick")},className:t.buttonStyle,appearance:"transparent","aria-description":c.buttonAriaDescLabel,"aria-label":c.buttonAriaLabel}))},F=n(3413),H=function(e){var t=b(),n=Object(S.n)(),a=n.handlers,r=n.player,o=n.loc,s=i.a.useMemo(function(){return"Forward"===e.skipDirection?{tooltipLabel:Object(v.e)(o.getString("SkipFwdTooltip"),D.e),buttonAriaLabel:o.getString("SkipFwdLabel"),buttonAriaDescLabel:Object(v.e)(o.getString("SkipFwdDescription"),D.e),buttonIcon:i.a.createElement(F.n,null)}:{tooltipLabel:Object(v.e)(o.getString("SkipBackTooltip"),D.e),buttonAriaLabel:o.getString("SkipBackLabel"),buttonAriaDescLabel:Object(v.e)(o.getString("SkipBackDescription"),D.e),buttonIcon:i.a.createElement(F.t,null)}},[e.skipDirection,o]);return i.a.createElement(C.e,{content:{className:t.tooltip,children:s.tooltipLabel},relationship:"label",withArrow:!0,mountNode:e.tooltipMountNode},i.a.createElement(x.e,{role:"menuitem",icon:s.buttonIcon,onClick:function(){void 0!==r.currentTimeInSeconds.value&&("Back"===e.skipDirection?a.skipXs("backward",10,"LeftClick"):"Forward"===e.skipDirection&&a.skipXs("forward",10,"LeftClick"))},className:t.buttonStyle,appearance:"transparent","aria-label":s.buttonAriaLabel,"aria-description":s.buttonAriaDescLabel}))},R=Object(m.e)({containerStyle:{textAlign:"center",fontSize:"14px",lineHeight:"20px",display:"flex",alignItems:"center",paddingLeft:"12px"},controlText:Object(c.e)(Object(c.e)(Object(c.e)(Object(c.e)({height:"1px",width:"1px",clip:"rect(0 0 0 0)",position:"absolute"},_.e.border("none")),_.e.overflow("hidden")),_.e.margin("-1px")),_.e.padding(0))}),N=n(3265),B=function(){var e=R(),t=Object(S.n)(),n=t.player,a=t.loc,r=t.settingsStore,o=Object(E.i)(n.currentTimeInSeconds)[0],s=Object(T.e)(o||0),c=Object(E.i)(n.mediaDurationInSecondsV2)[0],d=Object(T.e)(c),l=function(e){var t={Year:{Singular:"",Plural:""},Month:{Singular:"",Plural:""},Day:{Singular:a.getString("timeunit.day.single"),Plural:a.getString("timeunit.day.plural")},Hour:{Singular:a.getString("timeunit.hour.single"),Plural:a.getString("timeunit.hour.plural")},Minute:{Singular:a.getString("timeunit.minute.single"),Plural:a.getString("timeunit.minute.plural")},Second:{Singular:a.getString("timeunit.second.single"),Plural:a.getString("timeunit.second.plural")},Seperator:":"};return Object(N.e)(e,t)};return i.a.useMemo(function(){return Object(y.e)(r.getSettingObject("isFluentMtcTimeStampAnnouncementEnabled","boolean"))},[r])?i.a.createElement("div",{className:e.containerStyle},i.a.createElement("span",{className:e.controlText},Object(v.e)(a.getString("FluentTimeStampAnnouncement"),l(s),l(d))),i.a.createElement("div",{"aria-hidden":!0},"".concat(s," / ").concat(d))):i.a.createElement("div",{className:e.containerStyle},"".concat(s," / ").concat(d))},j=n(3414),V=n(3612),z="--oneplayer-volume-percent",G=Object(m.e)({volumeContainer:{position:"relative"},sliderContainerStyle:Object(c.e)(Object(c.e)(Object(c.e)({height:"0px",position:"absolute",bottom:"100%",marginBottom:"4px","@media screen and (-ms-high-contrast: active)":{backgroundColor:"GrayText"},backgroundColor:h.e.Gray160},_.e.padding("14px","8px","14px")),_.e.borderRadius("2px")),{boxShadow:"none",opacity:"0",transitionProperty:"height, opacity",transitionDuration:"0.25s, 0.25s",transitionTimingFunction:"linear, linear",overflowY:"hidden",pointerEvents:"none"}),rail:{"@media screen and (-ms-high-contrast: active)":{backgroundImage:"linear-gradient(\n        to top,\n        Highlight 0% var(".concat(z,"),\n        CanvasText var(").concat(z,") 100%)")},backgroundImage:"linear-gradient(\n      to top,\n      ".concat(h.e.White," 0% var(").concat(z,"),\n      ").concat(h.e.LightGrayBackground," var(").concat(z,") 100%)")},thumb:{width:"12px",height:"12px",backgroundColor:h.e.White,boxShadow:"none",":before":Object(c.e)({},_.e.borderColor(h.e.White)),"@media screen and (-ms-high-contrast: active)":{backgroundColor:"Highlight",":before":Object(c.e)({},_.e.borderColor("Highlight"))}},thumbHover:{width:"14px",height:"14px"},input:{cursor:"pointer"}}),K=function(e){var t,n={},i=b(),r=G(),o=Object(S.n)(),s=o.handlers,d=o.player,l=o.loc,u=o.settingsStore,f=o.log,p=o.useBooleanSetting,m=Object(E.i)(d.muted),_=m[0],h=m[1],g=Object(E.i)(d.volume),y=g[0],O=g[1],w=Object(E.o)(d.hasAudio),A=u.getSettingObject("volumeExponent","number"),L=1;(null==A?void 0:A.value)&&(L=A.value)<=0&&(L=1);var k,M=a.useMemo(function(){var e=Math.round(100*Math.pow(y,1/L));return{currentPercentage:e,ariaLabel:Object(v.e)(l.getString("VolumeSliderAriaLabel"),"".concat(e,"%"))}},[y]),P=a.useState(!1),T=P[0],U=P[1],F=a.useState(!1),H=F[0],R=F[1],N=a.useState(!1),B=N[0],K=N[1],W=a.useRef(0),q=a.useRef(0),Q=a.useRef(!1),Y=a.useRef(!1),J=a.useRef(null),X=a.useRef(null),Z=p("isFluentMtcCheckedStateFixEnabled"),$=a.useMemo(function(){return!1===w?{tooltipLabel:l.getString("NoAudio"),buttonAriaLabel:l.getString("NoAudio"),buttonAriaDescLabel:"",buttonIcon:a.createElement(j.a,{className:i.buttonIconStyle})}:_||0===M.currentPercentage?{tooltipLabel:Object(v.e)(l.getString("UnmuteTooltip"),D.e),buttonAriaLabel:Z?l.getString("MuteAriaLabel"):l.getString("UnmuteAriaLabel"),buttonAriaDescLabel:Object(v.e)(l.getString("VolumeDescription"),D.e),buttonIcon:a.createElement(j.a,{className:i.buttonIconStyle})}:{tooltipLabel:Object(v.e)(l.getString("MuteTooltip"),D.e),buttonAriaLabel:l.getString("MuteAriaLabel"),buttonAriaDescLabel:Object(v.e)(l.getString("VolumeDescription"),D.e),buttonIcon:M.currentPercentage>.66?a.createElement(j.n,{className:i.buttonIconStyle}):M.currentPercentage>.33?a.createElement(j.t,{className:i.buttonIconStyle}):a.createElement(j.e,{className:i.buttonIconStyle})}},[w,_,M,l]),ee=function(){!1!==d.hasAudio.value&&e.isSliderAllowed&&(clearTimeout(k),X&&X.current&&(X.current.style.height="128px",X.current.style.opacity="0.8",X.current.style.pointerEvents="auto",e.volumeSliderShown.value=!0,Y.current||(f.userAction("VolumeSliderAction",{actionType:"LeftClick",name:"VolumeSliderShown",playbackTimeSec:d.currentTimeInSeconds.value||-1,oldSetting:M.currentPercentage.toString(),newSetting:M.currentPercentage.toString(),settingChangeDuration:0}),Y.current=!0,Q.current=!1)))},te=function(){!1!==d.hasAudio.value&&(k=window.setTimeout(function(){X&&X.current&&(X.current.style.height="0px",X.current.style.opacity="0",X.current.style.pointerEvents="none",e.volumeSliderShown.value=!1,Q.current||(f.userAction("VolumeSliderAction",{actionType:"LeftClick",name:"VolumeSliderDismissed",playbackTimeSec:d.currentTimeInSeconds.value||-1,oldSetting:M.currentPercentage.toString(),newSetting:M.currentPercentage.toString(),settingChangeDuration:0}),Q.current=!0,Y.current=!1)),U(!1)},100))};return n["".concat(z)]="".concat(M.currentPercentage,"%"),a.createElement("div",{className:r.volumeContainer,style:Object(c.e)({},n),onMouseEnter:ee,onMouseLeave:te,onFocus:ee,onBlur:te},a.createElement(C.e,{content:{className:i.tooltip,children:$.tooltipLabel},relationship:"label",withArrow:!0,positioning:{position:"after"},mountNode:e.tooltipMountNode},a.createElement(x.e,{role:"menuitemcheckbox",icon:$.buttonIcon,onClick:function(){s.toggleMute("LeftClick")},className:i.buttonStyle,appearance:"transparent","aria-description":$.buttonAriaDescLabel,"aria-label":$.buttonAriaLabel,"aria-checked":Z?_:void 0,onFocus:function(){f.userAction("VolumeSliderAction",{actionType:"KeyDown",name:"VolumeButtonActive",playbackTimeSec:d.currentTimeInSeconds.value||-1,oldSetting:M.currentPercentage.toString(),newSetting:M.currentPercentage.toString(),settingChangeDuration:0})},onMouseEnter:function(){f.userAction("VolumeSliderAction",{actionType:"LeftClick",name:"VolumeButtonActive",playbackTimeSec:d.currentTimeInSeconds.value||-1,oldSetting:M.currentPercentage.toString(),newSetting:M.currentPercentage.toString(),settingChangeDuration:0})}})),a.createElement("div",{className:r.sliderContainerStyle,"aria-expanded":"".concat("block"===(null===(t=null==X?void 0:X.current)||void 0===t?void 0:t.style.display)),ref:X},a.createElement(C.e,{content:{className:i.tooltip,children:"".concat(M.currentPercentage,"%")},relationship:"inaccessible",visible:T,positioning:{position:"after",target:J.current},withArrow:!0,mountNode:e.tooltipMountNode},a.createElement(V.e,{value:M.currentPercentage,min:0,max:100,vertical:!0,size:"small","aria-label":M.ariaLabel,thumb:{className:H?Object(I.e)(r.thumb,r.thumbHover):r.thumb,ref:J},input:{className:r.input,role:"slider"},style:Object(c.e)({},n),rail:{className:r.rail},onChange:function(e,t){B||f.userAction("VolumeSliderAction",{actionType:"LeftClick",name:"VolumeSliderChanged",playbackTimeSec:d.currentTimeInSeconds.value||-1,oldSetting:M.currentPercentage.toString(),newSetting:t.value.toString(),settingChangeDuration:0}),O(Math.pow(t.value/100,L)),t.value>0&&_&&h(!1)},onMouseEnter:function(){return R(!0)},onMouseLeave:function(){return R(!1)},onMouseDown:function(){K(!0),W.current=M.currentPercentage,q.current=Date.now(),U(!0)},onMouseUp:function(){K(!1),U(!1),f.userAction("VolumeSliderAction",{actionType:"LeftClick",name:"VolumeSliderChanged",playbackTimeSec:d.currentTimeInSeconds.value||-1,oldSetting:W.current.toString(),newSetting:M.currentPercentage.toString(),settingChangeDuration:Date.now()-q.current}),W.current=0},onFocus:function(){return U(!0)},onBlur:function(){return U(!1)}}))))},W=function(e){var t=b(),n=Object(S.n)(),a=n.player,r=n.loc,o=n.playerContainer,s=Object(d.e)({axis:"horizontal",memorizeCurrent:!0}),m=i.a.useMemo(function(){var e=o.getElementsByClassName("fluent-critical-ui-container");return e.length?e[0]:o},[o]),_=i.a.useState(function(){return m.clientWidth<T.o}),h=_[0],g=_[1],v=i.a.useState(function(){return!(m.clientWidth<T.i)}),y=v[0],D=v[1],I=i.a.useState(function(){return!(Object(f.t)()||o.clientHeight<T.r)}),x=I[0],C=I[1],O=i.a.useState(a.itemUrl.value),w=O[0],E=O[1],L=i.a.useState(),k=L[0],M=L[1];return i.a.useEffect(function(){var e=Object(p.n)(function(){m.clientWidth<T.o?g(!0):g(!1),m.clientWidth<T.i?D(!1):D(!0),Object(f.t)()||(o.clientHeight<T.r?C(!1):C(!0))},200),t=new ResizeObserver(e);t.observe(m),t.observe(o);var n=a.itemUrl.subscribe(function(e){E(e)});return function(){t.disconnect(),n()}},[]),i.a.createElement(l.e,{theme:u.e,className:t.containerStyle},i.a.createElement("div",Object(c.e)({className:t.containerStyle,role:"menubar","aria-label":r.getString("PlaybackControlsContainerAriaLabel")},s),i.a.createElement(U,{tooltipMountNode:k}),!h&&i.a.createElement(i.a.Fragment,null,i.a.createElement(H,{skipDirection:"Back",tooltipMountNode:k}),i.a.createElement(H,{skipDirection:"Forward",tooltipMountNode:k})),i.a.createElement(K,{isSliderAllowed:x,tooltipMountNode:k,volumeSliderShown:e.volumeSliderShown}),y&&i.a.createElement(B,null),h&&i.a.createElement(i.a.Fragment,null,i.a.createElement(A,{tooltipMountNode:k,inOverflowMenu:!1}),w?i.a.createElement(P,{tooltipMountNode:k,inOverflowMenu:!1}):null)),i.a.createElement("div",{ref:M}))},q=function(e){var t=Object(S.a)(),n=t.loc,a=t.handlers,r=t.player,o=Object(v.e)(n.getString("PictureInPictureEnterTooltip"),D.e),s=Object(v.e)(n.getString("PictureInPictureExitTooltip"),D.e),c=i.a.useState(!1),d=c[0],l=c[1],u=function(){return l(!0)},f=function(){return l(!1)},p=r.getVideoElement();return i.a.useEffect(function(){return p&&p.addEventListener("enterpictureinpicture",u),p&&p.addEventListener("leavepictureinpicture",f),function(){p&&p.removeEventListener("enterpictureinpicture",u),p&&p.removeEventListener("leavepictureinpicture",f)}},[p]),i.a.createElement(w,{ariaRole:"menuitemcheckbox",tooltipMountNode:e.tooltipMountNode,inOverflowMenu:e.inOverflowMenu,ariaLabel:n.getString("PictureInPictureToggleAriaLabel"),ariaDescription:Object(v.e)(n.getString("PictureInPictureToggleDescription"),D.e),icon:d?i.a.createElement(M.n,null):i.a.createElement(M.t,null),onClick:function(){return a.handlePictureInPicture(p,e.inOverflowMenu,"LeftClick")},buttonCaptionWhenInOverflowMenu:d?n.getString("PictureInPictureExitButtonLabel"):n.getString("PictureInPictureEnterButtonLabel"),tooltipText:d?s:o})},Q="--oneplayer-caption-text-size",Y="--oneplayer-caption-text-background-color",J="--oneplayer-caption-text-color",X="--oneplayer-caption-track-max-width",Z=Object(m.e)({captionStyle:{"> div":{inset:"var(".concat(s.e.captionsTrackInset,", '0px 0px 88px 0px') !important"),"> div":{inset:"0px !important","> div":{fontSize:"var(".concat(Q,") !important"),maxWidth:"var(".concat(X,") !important"),backgroundColor:"var(".concat(Y,") !important"),color:"var(".concat(J,") !important")}}}},captions:{"& .captions":{fontSize:"var(".concat(Q,") !important"),backgroundColor:"var(".concat(Y,") !important"),color:"var(".concat(J,") !important")}}}),$={captionTrackLabel:"off",captionsSize:"small",captionsColor:"standard",captionsBackgroundTransparency:!1,quality:"-1"},ee=i.a.createContext({}),te=function(e){var t=e.children,n=e.initialSettings,a=void 0===n?$:n,r=Object(S.a)(),o=r.log,s=r.player,d=r.playerContainer,l=r.settingsStore,u=r.isNextGenEngineEnabled,m=r.showPlaybackSpeed,_=r.useBooleanSetting,b=i.a.useState(function(){var e=Object(f.n)()?localStorage.getItem("OnePlayer.mtcOptions"):null,t=Object(T.n)(m);if(e){var n=JSON.parse(e);return t&&(n.playbackSpeed=t),n}return a}),g=b[0],v=b[1];return function(e,t,n,a,r,o){var s=Object(E.o)(a.textTracks),d=Object(E.o)(a.activeTextTrack),l=i.a.useRef(!0),u=i.a.useRef(!1),m=Object(E.o)(a.playbackRate),_=Object(E.o)(a.loadingState),b=Z(),g=i.a.useRef(),v=o,S=i.a.useState(function(){return e?{width:e.offsetWidth,height:e.offsetHeight}:{width:0,height:0}}),D=S[0],I=S[1],x=Object(p.n)(function(e){var t=e[0].contentRect,n=t.width,a=t.height;I({width:n,height:a})},200),C=i.a.useRef(new ResizeObserver(x)),O=i.a.useMemo(function(){return Object(y.e)(r.getSettingObject("isFluentMtcCaptionStylesFixEnabled","boolean"))?e:g.current},[r,e,g.current]),w=i.a.useMemo(function(){return e?[e.offsetWidth,e.offsetHeight]:[0,0]},[e]),A=w[0],L=w[1];i.a.useEffect(function(){if("CanPlayThrough"===_&&void 0===g.current){var e=document.getElementsByClassName("vjs-text-track-display");e&&e[0]&&(g.current=e[0])}},[_]),i.a.useEffect(function(){var e;m&&(l.current?(t.playbackSpeed&&(a.playbackRate.value=parseFloat(t.playbackSpeed)),l.current=!1):(e=m.toString(),Object(f.r)()&&sessionStorage.setItem("OnePlayer.mtcOptions/playbackSpeed",e)))},[m]),i.a.useEffect(function(){O&&(O.style.setProperty(Q,"".concat(.04*L,"px")),O.style.setProperty(Y,"".concat(h.e.Black)),O.style.setProperty(J,"".concat(h.e.White)),O.style.setProperty(X,"".concat(.6*A,"px"))),!Object(y.e)(r.getSettingObject("isFluentMtcCaptionStylesFixEnabled","boolean"))&&g.current&&(g.current.className="vjs-text-track-display ".concat(b.captionStyle));var e=Object(y.e)(r.getSettingObject("isCaptionsForNextEngineEnabled","boolean"));if(v&&e){var t=document.getElementsByClassName("onePlayer-overlay")[0];t&&(t.className+=" ".concat(b.captions))}},[g.current,b.captionStyle,L,A]),i.a.useEffect(function(){var t=C.current;return e&&t.observe(e),function(){t.unobserve(e)}},[C,e]),i.a.useEffect(function(){if(u.current){var e="off";d&&(e=d.label),n(Object(c.e)(Object(c.e)({},t),{captionTrackLabel:e}))}},[d]),i.a.useEffect(function(){var e;if(0!==s.length){if("off"===t.captionTrackLabel)void 0!==a.activeTextTrack.value&&a.disableTextTracks();else{var i=s.findIndex(function(e){return e.label===t.captionTrackLabel});if(-1!==i)(null===(e=a.activeTextTrack.value)||void 0===e?void 0:e.label)!==a.textTracks.value[i].label&&setTimeout(function(){a.activeTextTrack.value=a.textTracks.value[i]},0);else{var r=void 0!==a.activeTextTrack.value?a.activeTextTrack.value.label:"off";n(Object(c.e)(Object(c.e)({},t),{captionTrackLabel:r}))}}u.current=!0}},[s,t.captionTrackLabel]),i.a.useEffect(function(){O&&O.style.setProperty(X,"".concat(.6*D.width,"px")),O&&("small"===t.captionsSize&&O?O.style.setProperty(Q,"".concat(.04*D.height,"px")):"medium"===t.captionsSize&&O?O.style.setProperty(Q,"".concat(.06*D.height,"px")):O&&O.style.setProperty(Q,"".concat(.08*D.height,"px")),function(){if(O)switch(t.captionsColor){case"standard":O.style.setProperty(Y,"".concat(t.captionsBackgroundTransparency?h.e.transparent:h.e.Black)),O.style.setProperty(J,"".concat(h.e.White));break;case"standard-reverse":O.style.setProperty(Y,"".concat(t.captionsBackgroundTransparency?h.e.transparent:h.e.White)),O.style.setProperty(J,"".concat(h.e.Black));break;case"purple":O.style.setProperty(Y,"".concat(t.captionsBackgroundTransparency?h.e.transparent:h.e.Purple)),O.style.setProperty(J,"".concat(h.e.White));break;case"purple-reverse":O.style.setProperty(Y,"".concat(t.captionsBackgroundTransparency?h.e.transparent:h.e.White)),O.style.setProperty(J,"".concat(h.e.Purple))}}())},[g.current,D.height,D.width,t.captionsBackgroundTransparency,t.captionsColor,t.captionsSize])}(d,g,v,s,l,u),i.a.useEffect(function(){var e,t=Object(c.e)({},g);t.playbackSpeed&&delete t.playbackSpeed,_("isRemoveQualitySettingFromLocalStorageEnabled")&&t.quality&&(t.quality="-1"),e=JSON.stringify(t),Object(f.n)()&&localStorage.setItem("OnePlayer.mtcOptions",e)},[g]),i.a.createElement(ee.Provider,{value:{settings:g,updateSettings:function(e){v(function(t){var n=t;return Object(c.e)(Object(c.e)({},n),e)})},revertToDefaultCaptionSettings:function(){v(function(e){return Object(c.e)(Object(c.e)({},e),{captionsSize:a.captionsSize,captionsColor:a.captionsColor,captionsBackgroundTransparency:a.captionsBackgroundTransparency})})},updateCaptionTrackLabel:function(e){v(function(t){var n=t;return Object(c.e)(Object(c.e)({},n),{captionTrackLabel:e})})},logChangeSettingsAction:function(e,t,n){o.userAction("PlayerChangeSettingAction",{actionType:"LeftClick",name:e,oldSetting:t,newSetting:n,playbackTimeSec:s.currentTimeInSeconds.value||-1})}}},t)};function ne(){var e=i.a.useContext(ee);if(!e)throw new Error("useMenuSettings must be used within the MenuProvider");return e}var ae=Object(m.e)({overflowPopover:Object(c.e)(Object(c.e)({"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:h.e.Gray70},backgroundColor:h.e.Gray170WithOpacity,boxShadow:"none",bottom:"20px !important"},_.e.borderRadius("2px")),_.e.padding(0)),container:{display:"flex",flexDirection:"row",backgroundColor:"transparent",alignItems:"center",zIndex:4,justifyContent:"flex-end"},menuItem:{backgroundColor:"transparent"},tooltip:{zIndex:1e5}}),ie=n(3422),re=n(3610),oe=n(3626),se=n(3604),ce=n(3647),de=n(3627),le=Object(m.e)({container:{backgroundColor:h.e.transparent,width:"275px",color:h.e.Gray20,zIndex:5},buttonStyle:Object(c.e)(Object(c.e)({width:"100%",backgroundColor:h.e.transparent,display:"flex",justifyContent:"space-between",alignItems:"center"},_.e.border("none")),_.e.padding(0)),backButtonStyle:Object(c.e)(Object(c.e)(Object(c.e)(Object(c.e)(Object(c.e)({width:"calc(100% - 4px)",display:"flex",justifyContent:"flex-start",backgroundColor:h.e.transparent},_.e.borderStyle("none")),_.e.padding(0)),_.e.borderRadius(0)),_.e.margin("2px")),{paddingRight:"6px",":focus-visible":{boxShadow:"0 0 2px rgba(0, 0, 0, 0.24), 0 2px 4px rgba(0, 0, 0, 0.28), 0 0 0 2px white !important"}}),itemStyle:Object(c.e)(Object(c.e)(Object(c.e)({backgroundColor:h.e.transparent,color:h.e.White},_.e.padding(0)),_.e.borderRadius(0)),{paddingRight:"8px",paddingLeft:"8px"}),itemTooltip:Object(c.e)({color:h.e.White},_.e.padding(0)),dividerStyle:Object(c.e)(Object(c.e)({backgroundColor:h.e.Gray130},_.e.margin(0)),{marginTop:"-2px",marginBottom:"-2px"})}),ue=n(3252),fe=n(3625),pe="--oneplayer-container-height",me=Object(m.e)({container:{"&::-webkit-scrollbar":Object(c.e)({width:"4px"},_.e.borderRadius("10px")),"&::-webkit-scrollbar-thumb":Object(c.e)(Object(c.e)({},_.e.borderRadius("10px")),{backgroundColor:h.e.Gray110,"@media screen and (-ms-high-contrast: active)":{backgroundColor:"Highlight"}}),backgroundColor:h.e.transparent,color:h.e.Gray20,zIndex:5,overflowY:"auto",maxHeight:"var(".concat(pe,")")},wideContainer:{"&::-webkit-scrollbar":Object(c.e)({width:"4px"},_.e.borderRadius("10px")),"&::-webkit-scrollbar-thumb":Object(c.e)(Object(c.e)({},_.e.borderRadius("10px")),{backgroundColor:h.e.Gray110,"@media screen and (-ms-high-contrast: active)":{backgroundColor:"Highlight"}}),backgroundColor:h.e.transparent,width:"275px",color:h.e.Gray20,zIndex:5,overflowY:"auto",maxHeight:"var(".concat(pe,")")},wideContainerWidth:{width:"100%"},settingButton:Object(c.e)(Object(c.e)({width:"100%",backgroundColor:h.e.transparent,display:"flex",justifyContent:"space-between",alignItems:"center"},_.e.border("none")),_.e.padding(0)),settingMenuItem:Object(c.e)(Object(c.e)(Object(c.e)(Object(c.e)({height:"32px",minHeight:"32px",backgroundColor:h.e.transparent,color:h.e.White},_.e.padding(0)),_.e.borderRadius(0)),_.e.margin("2px")),{paddingRight:"6px",paddingLeft:"6px"}),captionsMenuItem:Object(c.e)(Object(c.e)(Object(c.e)(Object(c.e)({height:"auto",minHeight:"36px",backgroundColor:h.e.transparent,color:h.e.White},_.e.padding("4px")),_.e.borderRadius(0)),_.e.margin("2px")),{boxSizing:"border-box"}),itemTooltip:Object(c.e)({color:h.e.White},_.e.padding(0)),colorItemContainer:{display:"flex"},colorItemExternalDiv:Object(c.e)(Object(c.e)({display:"flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px"},_.e.borderRadius("10px")),{marginRight:"8px"}),colorItemInternalDiv:Object(c.e)({width:"10px",height:"10px"},_.e.borderRadius("5px"))}),_e=n(863),he=function(e){var t=e.primaryColor,n=e.secondaryColor,a=e.text,r=me();return i.a.createElement("div",{className:r.colorItemContainer},i.a.createElement("div",{className:r.colorItemExternalDiv,style:{backgroundColor:t}},i.a.createElement("div",{className:r.colorItemInternalDiv,style:{backgroundColor:n}})),a)},be=function(e){var t=me(),n=ne(),a=n.settings,r=n.updateSettings,o=n.logChangeSettingsAction,s=Object(S.a)(),d=s.loc,l=s.rtl,u=s.useBooleanSetting,f=i.a.useState({captionsColor:[a.captionsColor]}),p=f[0],m=f[1],_=i.a.useRef(null),b=u("isFluentMtcOverflowSettingsPositioningFixEnabled");return Object(E.e)(_),i.a.createElement(ue.e,{dir:l?"rtl":"ltr",className:b?Object(I.e)(t.wideContainer,t.wideContainerWidth):t.wideContainer,checkedValues:p,onCheckedValueChange:function(e,t){var n=t.name,i=t.checkedItems,s=i[i.length-1];if(s){o("ChangeCaptionColor",a.captionsColor,s),r(Object(c.e)(Object(c.e)({},a),{captionsColor:s})),m(function(){var e;return(e={})[n]=[s],e});var l=Object(v.e)(d.getString("FluentCaptionsColorChangedStatusMessage"),s);Object(_e.e)(l,!0)}},ref:_},e.menuItemsToAddToTopOfSubmenu,i.a.createElement(fe.e,{className:t.settingMenuItem,name:"captionsColor",value:"standard"},i.a.createElement(he,{primaryColor:h.e.Gray190,secondaryColor:h.e.White,text:d.getString("PlaybackSettings.CaptionSettings.Color.Standard")})),i.a.createElement(fe.e,{className:t.settingMenuItem,name:"captionsColor",value:"standard-reverse"},i.a.createElement(he,{primaryColor:h.e.White,secondaryColor:h.e.Gray190,text:d.getString("PlaybackSettings.CaptionSettings.Color.StandardReverse")})),i.a.createElement(fe.e,{className:t.settingMenuItem,name:"captionsColor",value:"purple"},i.a.createElement(he,{primaryColor:h.e.Purple,secondaryColor:h.e.White,text:d.getString("PlaybackSettings.CaptionSettings.Color.Purple")})),i.a.createElement(fe.e,{className:t.settingMenuItem,name:"captionsColor",value:"purple-reverse"},i.a.createElement(he,{primaryColor:h.e.White,secondaryColor:h.e.Purple,text:d.getString("PlaybackSettings.CaptionSettings.Color.PurpleReverse")})))},ge=n(3275),ve=n(3597),ye=n(3418),Se=n(3419);function De(e){return"click"===e?"LeftClick":"KeyDown"}var Ie=function(e){var t=me(),n=i.a.useRef(null),a=i.a.useRef(null),r=ne(),o=r.settings,s=r.updateSettings,d=r.revertToDefaultCaptionSettings,l=r.logChangeSettingsAction,u=Object(S.a)(),f=u.loc,p=u.rtl,m=u.log,_=u.player,b=u.useBooleanSetting,g=i.a.useRef(null),y=b("isFluentMtcOverflowSettingsPositioningFixEnabled");return i.a.useLayoutEffect(function(){n&&n.current&&n.current.style.setProperty("--colorNeutralForegroundOnBrand",h.e.Gray200)},[]),Object(E.e)(g),i.a.createElement(ue.e,{dir:p?"rtl":"ltr",className:y?Object(I.e)(t.wideContainer,t.wideContainerWidth):t.wideContainer,ref:g},e.menuItemsToAddToTopOfSubmenu,i.a.createElement(ge.e,{"aria-haspopup":!0,className:t.settingMenuItem,onClick:function(t){return e.navigateTo("captionSize",De(t.type))}},i.a.createElement("div",{className:t.settingButton},i.a.createElement("span",null,f.getString("PlaybackSettings.CaptionSettings.Size")),i.a.createElement("div",{style:{display:"flex",alignItems:"center"}},i.a.createElement("span",{className:t.itemTooltip},function(){switch(o.captionsSize){case"small":return f.getString("PlaybackSettings.CaptionSettings.CaptionSize.Small");case"medium":return f.getString("PlaybackSettings.CaptionSettings.CaptionSize.Medium");case"large":return f.getString("PlaybackSettings.CaptionSettings.CaptionSize.Large");default:return""}}()),p?i.a.createElement(ye.e,{style:{marginLeft:12}}):i.a.createElement(Se.e,{style:{marginLeft:12}})))),i.a.createElement(ge.e,{"aria-haspopup":!0,className:t.settingMenuItem,onClick:function(t){return e.navigateTo("captionColor",De(t.type))}},i.a.createElement("div",{className:t.settingButton},i.a.createElement("span",null,f.getString("PlaybackSettings.CaptionSettings.Color")),i.a.createElement("div",{style:{display:"flex",alignItems:"center"}},i.a.createElement("span",{className:t.itemTooltip},function(){switch(o.captionsColor){case"standard":return f.getString("PlaybackSettings.CaptionSettings.Color.Standard");case"standard-reverse":return f.getString("PlaybackSettings.CaptionSettings.Color.StandardReverse");case"purple":return f.getString("PlaybackSettings.CaptionSettings.Color.Purple");case"purple-reverse":return f.getString("PlaybackSettings.CaptionSettings.Color.PurpleReverse");default:return""}}()),p?i.a.createElement(ye.e,{style:{marginLeft:12}}):i.a.createElement(Se.e,{style:{marginLeft:12}})))),i.a.createElement(ge.e,{className:t.settingMenuItem},i.a.createElement("div",{className:t.settingButton,tabIndex:-1},i.a.createElement("span",null,f.getString("PlaybackSettings.CaptionSettings.BackgroundTransparency")),i.a.createElement("div",{ref:n,style:{display:"flex",alignItems:"center"}},i.a.createElement("span",{className:t.itemTooltip,style:{marginRight:8}},o.captionsBackgroundTransparency?f.getString("MediaSettingsToggleOn"):f.getString("MediaSettingsToggleOff")),i.a.createElement(ve.e,{"aria-label":f.getString("PlaybackSettings.CaptionSettings.BackgroundTransparencyAriaLabel"),onKeyDown:function(e){"Enter"===e.key&&s(Object(c.e)(Object(c.e)({},o),{captionsBackgroundTransparency:!o.captionsBackgroundTransparency})),"ArrowDown"===e.key&&a.current&&a.current.focus()},checked:o.captionsBackgroundTransparency,onChange:function(e,t){l("ChangeCaptionBackground",o.captionsBackgroundTransparency.toString(),t.checked.toString()),s(Object(c.e)(Object(c.e)({},o),{captionsBackgroundTransparency:t.checked}));var n=Object(v.e)(f.getString("FluentBackgroundTransparencyChangedStatusMessage"),t.checked?"on":"off");Object(_e.e)(n,!0)}})))),i.a.createElement(ge.e,{ref:a,className:t.settingMenuItem,onClick:function(){d(),m.userAction("PlayerButtonAction",{name:"SelectDefaultCaptionSettings",playbackTimeSec:_.currentTimeInSeconds.value||-1,actionType:"LeftClick"})}},f.getString("PlaybackSettings.CaptionSettings.RevertToDefault")))},xe=function(e){var t=me(),n=i.a.useRef(null),a=ne(),r=a.settings,o=a.updateSettings,s=a.logChangeSettingsAction,d=Object(S.a)(),l=d.loc,u=d.rtl,f=d.useBooleanSetting,p=i.a.useState({captionsSize:[r.captionsSize]}),m=p[0],_=p[1],h=f("isFluentMtcOverflowSettingsPositioningFixEnabled");return Object(E.e)(n),i.a.createElement(ue.e,{dir:u?"rtl":"ltr",ref:n,className:h?Object(I.e)(t.wideContainer,t.wideContainerWidth):t.wideContainer,checkedValues:m,onCheckedValueChange:function(e,t){var n=t.name,a=t.checkedItems,i=a[a.length-1];if(i){s("ChangeCaptionSize",r.captionsSize,i),o(Object(c.e)(Object(c.e)({},r),{captionsSize:i})),_(function(){var e;return(e={})[n]=[i],e});var d=Object(v.e)(l.getString("FluentCaptionsSizeChangedStatusMessage"),i);Object(_e.e)(d,!0)}}},e.menuItemsToAddToTopOfSubmenu,i.a.createElement(fe.e,{className:t.settingMenuItem,name:"captionsSize",value:"small"},l.getString("PlaybackSettings.CaptionSettings.CaptionSize.Small")),i.a.createElement(fe.e,{className:t.settingMenuItem,name:"captionsSize",value:"medium"},l.getString("PlaybackSettings.CaptionSettings.CaptionSize.Medium")),i.a.createElement(fe.e,{className:t.settingMenuItem,name:"captionsSize",value:"large"},l.getString("PlaybackSettings.CaptionSettings.CaptionSize.Large")))},Ce=function(e){var t={},n=me(),a=ne(),r=a.settings,o=a.updateSettings,s=Object(S.a)(),d=s.loc,l=s.log,u=s.rtl,f=s.player,p=s.playerContainer,m=Object(E.o)(f.textTracks),_=Object(E.o)(f.activeTextTrack),h=i.a.useState(function(){return _?{captions:[_.label]}:{captions:["off"]}}),b=h[0],g=h[1];i.a.useEffect(function(){var e="off";_&&(e=_.label),g({captions:[e]})},[_]),t["".concat(pe)]="".concat(p.clientHeight-T.a,"px");var y=i.a.createRef();return Object(E.e)(y),i.a.createElement(ue.e,{className:n.container,ref:y,dir:u?"rtl":"ltr",checkedValues:b,onCheckedValueChange:function(t,n){n.name;var a,i=n.checkedItems,s=i[i.length-1];if(s){if("off"===s)o(Object(c.e)(Object(c.e)({},r),{captionTrackLabel:"off"}));else{var u=m.findIndex(function(e){return e.label===s});o(Object(c.e)(Object(c.e)({},r),{captionTrackLabel:f.textTracks.value[u].label}))}a=s,l.userAction("PlayerButtonAction",{name:"off"===a?"CaptionsOff":"CaptionsOn",playbackTimeSec:f.currentTimeInSeconds.value||-1,actionType:"LeftClick"});var p=Object(v.e)(d.getString("FluentCaptionsChangedStatusMessage"),s);Object(_e.e)(p,!0)}e.updateMenuOpenState&&e.updateMenuOpenState(!1,De(t.type))},style:Object(c.e)({},t)},e.menuItemsToAddToTopOfSubmenu,i.a.createElement(fe.e,{name:"captions",value:"off",className:n.captionsMenuItem},d.getString("MediaSettingsToggleOff")),m.map(function(e){return i.a.createElement(fe.e,{className:n.captionsMenuItem,name:"captions",value:e.label,key:e.label},e.label)}))},Oe=function(e){var t={},n=b(),a=O(),r=Object(S.a)(),o=r.rtl,s=r.overflowButtons,d=r.playerContainer,l=r.settingsStore,u=Object(E.o)(s),f=me(),p=i.a.useRef(null),m=Object(y.e)(l.getSettingObject("isOverflowSubmenuChevronsEnabled","boolean"));t["".concat(pe)]="".concat(d.clientHeight-T.a,"px"),Object(E.e)(p);var _=Object(I.e)(n.buttonStyle,a.buttonInOverflow);return i.a.createElement(ue.e,{className:f.container,ref:p,dir:o?"rtl":"ltr",style:Object(c.e)({},t)},u.map(function(t){return t.subMenu?i.a.createElement(re.e,null,i.a.createElement(x.e,{key:t.key,role:"menuitemcheckbox","aria-label":t.subMenu.buttonAriaLabel,className:_,appearance:"transparent",icon:t.subMenu.buttonIcon,onClick:function(n){t.subMenu&&e.navigateTo(t.subMenu.submenuToOpen,De(n.type))},"aria-description":t.subMenu.buttonAriaDescription},t.subMenu.buttonContents||t.subMenu.buttonTitle,m&&t.subMenu.displayChevron?o?i.a.createElement(ye.e,{style:{marginRight:"auto",marginLeft:"0px"}}):i.a.createElement(Se.e,{style:{marginLeft:"auto",marginRight:"0px"}}):null)):i.a.createElement("div",{key:t.key},t.render(!0))}))},we=Object(m.e)({container:{display:"flex"},iconContainer:{width:"20px"},labelText:{marginLeft:"6px"},menuItem:Object(c.e)(Object(c.e)({backgroundColor:h.e.transparent,height:"32px",minHeight:"32px",color:h.e.White},_.e.borderRadius(0)),_.e.margin("2px"))}),Ee=function(e){var t={},n=we(),a=me(),r=ne(),o=r.settings,s=r.updateSettings,d=r.logChangeSettingsAction,l=Object(S.a)(),u=l.loc,f=l.rtl,p=l.player,m=l.playerContainer,_=Object(E.o)(p.playbackRate),h=i.a.useState(function(){return o.playbackSpeed?{playbackspeed:[o.playbackSpeed]}:{playbackspeed:[p.playbackRate.value.toString()]}}),b=h[0],g=h[1];i.a.useEffect(function(){g(function(){return{playbackspeed:[_.toString()]}})},[_]),t["".concat(pe)]="".concat(m.clientHeight-T.a,"px");var y=i.a.createRef();return Object(E.e)(y),i.a.createElement(ue.e,{ref:y,checkedValues:b,dir:f?"rtl":"ltr",onCheckedValueChange:function(t,n){n.name;var a=n.checkedItems,i=a[a.length-1];if(i){d("ChangePlaybackSpeed","".concat(o.playbackSpeed?o.playbackSpeed:"1","x"),"".concat(i,"x")),s(Object(c.e)(Object(c.e)({},o),{playbackSpeed:i})),p.playbackRate.value=Number.parseFloat(i);var r=Object(v.e)(u.getString("FluentPlaybackSpeedChangedStatusMessage"),i);Object(_e.e)(r,!0)}e.updateMenuOpenState&&e.updateMenuOpenState(!1,De(t.type))},className:a.container,style:Object(c.e)({},t)},e.menuItemsToAddToTopOfSubmenu,i.a.createElement(fe.e,{className:n.menuItem,name:"playbackspeed",value:"2"},"2x"),i.a.createElement(fe.e,{className:n.menuItem,name:"playbackspeed",value:"1.8"},"1.8x"),i.a.createElement(fe.e,{className:n.menuItem,name:"playbackspeed",value:"1.5"},"1.5x"),i.a.createElement(fe.e,{className:n.menuItem,name:"playbackspeed",value:"1.2"},"1.2x"),i.a.createElement(fe.e,{className:n.menuItem,name:"playbackspeed",value:"1"},"1x"),i.a.createElement(fe.e,{className:n.menuItem,name:"playbackspeed",value:"0.5"},"0.5x"))},Ae=function(e,t){return e.length>1?t:1===e.length?e[0].label:""},Le=function(e){var t=me(),n=i.a.useRef(null),a=ne(),r=a.updateSettings,o=a.settings,s=a.logChangeSettingsAction,d=Object(S.a)(),l=d.loc,u=d.rtl,f=d.player,p=(0,d.useBooleanSetting)("isAutoQualityLabelLocalizedEnabled"),m=i.a.useState({quality:"-1"===o.quality?[Ae(f.availableBitrateQualities.value,p?l.getString("PlaybackSettings.AutoQualityLabel"):"Auto")]:[o.quality]}),_=m[0],h=m[1],b=i.a.useCallback(function(e){if(e.length>1){var t=Object(c.c)([],e,!0),n=t.shift();return p&&(n.label=l.getString("PlaybackSettings.AutoQualityLabel")),Object(c.c)([n],t.reverse(),!0)}return e},[l]),g=i.a.useState(b(f.availableBitrateQualities.value)),y=g[0],D=g[1];return i.a.useEffect(function(){var e=f.availableBitrateQualities.subscribe(function(e){var t=b(e);D(t)});return function(){e()}},[f.availableBitrateQualities.value,b]),Object(E.e)(n),i.a.createElement(ue.e,{className:t.container,dir:u?"rtl":"ltr",checkedValues:_,onCheckedValueChange:function(e,t){var n=t.name,a=t.checkedItems,i=a[a.length-1];if(i){s("ChangePlaybackQuality",a[0],i);var d=f.availableBitrateQualities.value.find(function(e){return e.label===i});d&&(f.downloadBitrate.value=d.bitrate),r(Object(c.e)(Object(c.e)({},o),{quality:i})),h(function(){var e;return(e={})[n]=[i],e});var u=Object(v.e)(l.getString("FluentQualityChangedStatusMessage"),i);Object(_e.e)(u,!0)}},ref:n},e.menuItemsToAddToTopOfSubmenu,y.map(function(e){return i.a.createElement(fe.e,{className:t.settingMenuItem,name:"quality",value:e.label,key:e.label},e.label)}))},ke=function(e){var t={},n=me(),a=ne().settings,r=Object(S.a)(),o=r.handlers,s=r.loc,d=r.rtl,l=r.player,u=r.playerContainer,f=r.useBooleanSetting,p=Object(E.o)(l.textTracks),m=l.availableBitrateQualities.value.length>0,_=i.a.useRef(null),h=f("isFluentMtcOverflowSettingsPositioningFixEnabled"),b=f("isAutoQualityLabelLocalizedEnabled")?s.getString("PlaybackSettings.AutoQualityLabel"):"Auto";return t["".concat(pe)]="".concat(u.clientHeight-T.a,"px"),Object(E.e)(_),i.a.createElement(ue.e,{dir:d?"rtl":"ltr",className:h?Object(I.e)(n.wideContainer,n.wideContainerWidth):n.wideContainer,style:Object(c.e)({},t),ref:_},e.menuItemsToAddToTopOfSubmenu,p.length>0?i.a.createElement(ge.e,{"aria-haspopup":!0,className:n.settingMenuItem,onClick:function(t){return e.navigateTo("captionSettings",De(t.type))}},i.a.createElement("div",{className:n.settingButton},i.a.createElement("span",null,s.getString("PlaybackSettings.CaptionSettings")),d?i.a.createElement(ye.e,{style:{marginLeft:12}}):i.a.createElement(Se.e,{style:{marginLeft:12}}))):i.a.createElement(i.a.Fragment,null),m?i.a.createElement(ge.e,{"aria-haspopup":!0,className:n.settingMenuItem,onClick:function(t){return e.navigateTo("qualitySettings",De(t.type))}},i.a.createElement("div",{className:n.settingButton},i.a.createElement("span",null,s.getString("PlaybackSettings.Quality")),i.a.createElement("div",{style:{display:"flex",alignItems:"center"}},i.a.createElement("span",{className:n.itemTooltip},function(e,t,n){return"-1"===t?Ae(e,n):t}(l.availableBitrateQualities.value,a.quality,b)),d?i.a.createElement(ye.e,{style:{marginLeft:12}}):i.a.createElement(Se.e,{style:{marginLeft:12}})))):i.a.createElement(i.a.Fragment,null),i.a.createElement(ge.e,{className:n.settingMenuItem,onClick:function(){o.openKeyboardShortcutModal("LeftClick")}},i.a.createElement("div",{className:n.settingButton},s.getString("PlaybackSettings.KeyboardShortcuts"))))},Me={settingsRoot:{subMenuTitleStringName:"PlaybackSettingsSubmenuTitle",backButtonAriaDescriptionStringName:"PlaybackSettingsSubmenuBackAriaDescription",renderSubmenu:function(e){return i.a.createElement(ke,Object(c.e)({},e))},openUserActionName:"OpenSettingsMenu",closeUserActionName:"CloseSettingsMenu"},captionSettings:{subMenuTitleStringName:"PlaybackSettings.CaptionSettings",backButtonAriaDescriptionStringName:"PlaybackSettings.BackToHomeAriaDescription",renderSubmenu:function(e){return i.a.createElement(Ie,Object(c.e)({},e))},openUserActionName:"OpenCaptionSettingsMenu",closeUserActionName:"CloseCaptionSettingsMenu"},captionSize:{subMenuTitleStringName:"PlaybackSettings.CaptionSettings.Size",backButtonAriaDescriptionStringName:"PlaybackSettings.BackToCaptionSettingsAriaDescription",renderSubmenu:function(e){return i.a.createElement(xe,Object(c.e)({},e))},openUserActionName:"OpenCaptionSizeMenu",closeUserActionName:"CloseCaptionSizeMenu"},captionColor:{subMenuTitleStringName:"PlaybackSettings.CaptionSettings.Color",backButtonAriaDescriptionStringName:"PlaybackSettings.BackToCaptionSettingsAriaDescription",renderSubmenu:function(e){return i.a.createElement(be,Object(c.e)({},e))},openUserActionName:"OpenCaptionColorMenu",closeUserActionName:"CloseCaptionColorMenu"},captionTrack:{subMenuTitleStringName:"CaptionSubmenuTitle",backButtonAriaDescriptionStringName:"CaptionMenuBackAriaDescription",renderSubmenu:function(e){return i.a.createElement(Ce,Object(c.e)({},e))},openUserActionName:"OpenCaptionsMenu",closeUserActionName:"CloseCaptionsMenu"},qualitySettings:{subMenuTitleStringName:"PlaybackSettings.Quality",backButtonAriaDescriptionStringName:"PlaybackSettings.BackToHomeAriaDescription",renderSubmenu:function(e){return i.a.createElement(Le,Object(c.e)({},e))},openUserActionName:"OpenPlaybackQualityMenu",closeUserActionName:"ClosePlaybackQualityMenu"},playbackSpeed:{subMenuTitleStringName:"PlaybackSpeedSubmenuTitle",backButtonAriaDescriptionStringName:"PlaybackSpeedBackAriaDescription",renderSubmenu:function(e){return i.a.createElement(Ee,Object(c.e)({},e))},openUserActionName:"OpenPlaybackSpeedMenu",closeUserActionName:"ClosePlaybackSpeedMenu"},overflowMenu:{subMenuTitleStringName:"",backButtonAriaDescriptionStringName:"",renderSubmenu:function(e){return i.a.createElement(Oe,Object(c.e)({},e))},openUserActionName:"OpenPlaybackExperienceOverflowMenu",closeUserActionName:"ClosePlaybackExperienceOverflowMenu"}};function Pe(e){return Me[e].subMenuTitleStringName}var Te=i.a.memo(function(e){var t={},n=i.a.useState([e.initalSubmenu]),a=n[0],r=n[1],o=a[a.length-1],s=Object(S.a)(),d=s.loc,l=s.log,u=s.rtl,f=s.player,m=s.playerContainer,_=s.useBooleanSetting;t["".concat(pe)]="".concat(m.clientHeight-T.a,"px");var h=i.a.useState(!1),g=h[0],v=h[1],y=i.a.useState(!1),D=y[0],w=y[1],E=_("isClosingFluentMenusOnResizeEnabled"),A=_("isFluentMtcOverflowSettingsPositioningFixEnabled"),L=_("isOnePlayerFluentMtcSubmenuCloseOnClickEnabled"),k=_("isFluentMtcAriaHasPopupFixEnabled"),M=le(),P=O(),U=b(),F="overflowMenu"===e.initalSubmenu;function H(e,t){var n;l.userAction("PlayerButtonAction",{name:(n=e,Me[n].openUserActionName),playbackTimeSec:f.currentTimeInSeconds.value||-1,actionType:t,inOverflowMenu:"overflowMenu"!==e&&F})}function R(e,t){var n;l.userAction("PlayerButtonAction",{name:(n=e,Me[n].closeUserActionName),playbackTimeSec:f.currentTimeInSeconds.value||-1,actionType:t,inOverflowMenu:"overflowMenu"!==e&&F})}function N(e){R(o,e);var t=a.slice(0,-1);r(t)}function B(e,t){var n=a.slice();H(e,t),n.push(e),r(n)}i.a.useEffect(function(){var t=Object(p.n)(function(){E&&(v(!1),r([e.initalSubmenu]),w(!1))},200),n=new ResizeObserver(t);return n.observe(m),function(){n.disconnect()}},[E]);var j=function(t,n){if(v(t),e.mtcMenuOpen.value=t,t)H(e.initalSubmenu,n);else{for(var i=a.length-1;i>=0;i--)R(a[i],n);r([e.initalSubmenu]),w(!1)}};return i.a.createElement(se.e,{inline:!0,persistOnItemClick:!0,open:g,onOpenChange:function(t,n){"click"!==t.type&&t.stopPropagation();var i=t;if("keydown"===t.type&&i.nativeEvent&&"Escape"==i.nativeEvent.key&&a.length>1)t.preventDefault(),N("KeyDown");else if(L){var o=De(t.type);j(n.open,o)}else if(v(n.open),e.mtcMenuOpen.value=n.open,o=De(t.type),n.open)H(e.initalSubmenu,o);else{for(var s=a.length-1;s>=0;s--)R(a[s],o);r([e.initalSubmenu]),w(!1)}},openOnHover:!1,positioning:A&&F&&"captionSettings"===o?{flipBoundary:m,position:"above"}:"above"},i.a.createElement(C.e,{withArrow:!0,content:{className:U.tooltip,children:e.tooltipText},relationship:"label",mountNode:e.tooltipMountNode,onVisibleChange:function(e,t){return w(t.visible)},visible:D&&!g},i.a.createElement(ce.e,null,i.a.createElement(x.e,{ref:e.buttonRef,role:"menuitem","aria-label":e.ariaLabel,"aria-description":e.ariaDescription,"aria-haspopup":!k||void 0,className:"playbackSpeed"===o?Object(I.e)(P.menuTrigger,P.textMenuTrigger):Object(I.e)(P.menuTrigger,P.iconMenuTrigger),appearance:"transparent","aria-expanded":g,icon:e.icon},e.buttonContents))),i.a.createElement(de.e,{className:e.popoverClassName,style:A&&F?Object(c.e)(Object(c.e)({},t),{maxWidth:"captionSettings"===o?.85*m.offsetWidth:"max-content",overflow:"hidden"}):Object(c.e)({},t)},function(){var e,t=[];a.length>1&&(t=[i.a.createElement(re.e,{key:"submenu title group"},i.a.createElement(x.e,{"aria-label":"".concat(d.getString(Pe(o)),", ").concat(d.getString((e=o,Me[e].backButtonAriaDescriptionStringName))),className:M.backButtonStyle,key:"Back Button",onClick:function(e){N(De(e.type))},icon:u?i.a.createElement(Se.e,null):i.a.createElement(ye.e,null)},d.getString(Pe(o)))),i.a.createElement(oe.e,{key:"Divider",className:M.dividerStyle})]);var n={navigateBack:N,navigateTo:B,menuItemsToAddToTopOfSubmenu:t};return L&&("playbackSpeed"!==o&&"captionTrack"!==o||(n.updateMenuOpenState=j)),function(e,t){return Me[e].renderSubmenu(t)}(o,n)}()))},function(e,t){var n,a,i,r;return(null===(n=e.icon)||void 0===n?void 0:n.type.displayName)===(null===(a=t.icon)||void 0===a?void 0:a.type.displayName)&&(null===(i=e.buttonContents)||void 0===i?void 0:i.key)===(null===(r=t.buttonContents)||void 0===r?void 0:r.key)&&e.tooltipMountNode===t.tooltipMountNode&&e.tooltipText===t.tooltipText&&e.ariaLabel===t.ariaLabel&&e.ariaDescription===t.ariaDescription&&e.initalSubmenu===t.initalSubmenu&&e.openUserActionName===t.openUserActionName&&e.closeUserActionName===t.closeUserActionName&&e.mtcMenuOpen===t.mtcMenuOpen&&e.popoverClassName===t.popoverClassName&&e.buttonRef===t.buttonRef}),Ue=function(e){var t=ae(),n=Object(S.a)(),a=n.loc,r=n.overflowButtons,o=Object(d.e)({axis:"horizontal",memorizeCurrent:!0}),s=i.a.useState([]),l=s[0],u=s[1],f=i.a.useState([]),m=f[0],_=f[1],h=i.a.useState(0),b=h[0],g=h[1];return i.a.useEffect(function(){for(var t=function(){_(e.children.filter(function(e){return void 0===e.isVisible||e.isVisible.value}))},n=[],a=0,i=e.children;a<i.length;a++){var r=i[a];void 0!==r.isVisible&&n.push(r.isVisible.subscribe(t))}return t(),function(){for(var e=0,t=n;e<t.length;e++)(0,t[e])()}},[e.children]),i.a.useEffect(function(){var t=Object(p.n)(function(){setTimeout(function(){g(e.container.clientWidth)},0)},200),n=new ResizeObserver(t);return n.observe(e.container),function(){n.disconnect()}},[e.container]),i.a.useEffect(function(){var t=Number.MAX_VALUE;b>0&&(t=Math.floor(b/e.childWidth));for(var n=t>=m.length?0:m.length-t+1,a=[],i=[],o=0;o<n&&o<m.length;o++)a.push(m[o]);for(o=n;o<m.length;o++)i.push(m[o]);u(i),r.value=a},[b,e.childWidth,m]),i.a.createElement("div",Object(c.e)({className:t.container,role:"menubar","aria-label":e.menuAriaLabel},o),r.value.length>0&&i.a.createElement(Te,{mtcMenuOpen:e.mtcMenuOpen,buttonContents:i.a.createElement(ie.e,null),tooltipText:a.getString("PlaybackExperienceOverflowButtonTooltip"),ariaLabel:a.getString("PlaybackExperienceOverflowButtonAriaLabel"),initalSubmenu:"overflowMenu",openUserActionName:"OpenOverflowMenu",closeUserActionName:"CloseOverflowMenu",popoverClassName:t.overflowPopover}),l.map(function(t){return i.a.createElement("div",{style:{width:e.childWidth},key:t.key},t.render(!1))}))},Fe=n(3417),He=Object(m.e)({underlined:{":after":{content:"''",display:"block",height:"2px",width:"32px",position:"absolute",bottom:"0px",backgroundColor:h.e.White,boxSizing:"inherit"}},underlinedInOverflow:{":after":{content:"''",display:"block",height:"2px",width:"20px",position:"absolute",marginTop:"33px",backgroundColor:h.e.White,boxSizing:"inherit"}}}),Re=function(e){var t,n=He(),a=Object(S.a)(),r=a.player,o=a.log,s=a.useBooleanSetting,c=Object(E.o)(e.pluginButtonModel.isUnderlinedObservableProperty),d=Object(E.o)(e.pluginButtonModel.tooltipObservableProperty),l=Object(E.o)(e.pluginButtonModel.ariaLabelObservableProperty),u=Object(E.o)(e.pluginButtonModel.ariaDescriptionObservableProperty),f=c?e.inOverflowMenu?n.underlinedInOverflow:n.underlined:void 0,p=s("isFluentMtcCheckedStateFixEnabled");return i.a.createElement(w,{ariaRole:"menuitemcheckbox"===e.pluginButtonModel.props.toggleButtonRole?"menuitemcheckbox":"menuitem",tooltipMountNode:e.tooltipMountNode,inOverflowMenu:e.inOverflowMenu,ariaLabel:l,ariaDescription:Object(v.e)(u||"",D.e),ariaChecked:"menuitemcheckbox"===e.pluginButtonModel.props.toggleButtonRole&&p?c:void 0,icon:(t=e.pluginButtonModel.props.icon,"NoiseSuppression"===t?i.a.createElement(M.e,null):i.a.createElement(Fe.e,null)),onClick:function(){o.userAction("PluginButtonAction",{name:e.pluginButtonModel.userActionName,pluginName:e.pluginButtonModel.pluginIdentifier.pluginName,pluginVersion:e.pluginButtonModel.pluginIdentifier.pluginVersion,actionType:"LeftClick",playbackTimeSec:r.currentTimeInSeconds.value||-1,inOverflowMenu:e.inOverflowMenu}),e.pluginButtonModel.props.onClick()},buttonCaptionWhenInOverflowMenu:l,tooltipText:Object(v.e)(d,D.e),additionalClassNames:f})},Ne=function(e){var t=we(),n=Object(S.a)(),a=n.loc,r=n.player,o=n.rtl,s=n.useBooleanSetting,c=Object(E.o)(r.playbackRate),d=i.a.useMemo(function(){return s("isOverflowableButtonRtlFixEnabled")},[]);return i.a.createElement("div",{className:t.container},i.a.createElement("div",{style:d&&o?{marginRight:"6px"}:{},className:t.iconContainer},i.a.createElement("span",null,c.toString(),"x")),e.includeTitle?i.a.createElement("span",{className:t.labelText},a.getString("PlaybackSpeedButtonTitle")):null)},Be=function(e){var t=O(),a=i.a.useState([]),r=a[0],o=a[1],s=Object(S.a)(),c=s.handlers,d=s.player,f=s.playerContainer,m=s.loc,_=s.rtl,h=s.settingsStore,b=s.showPlaybackSpeed,g=s.showPopOutButton,I=Object(E.o)(d.textTracks),x=Object(E.o)(g),C=Object(E.o)(d.itemUrl),w=i.a.useMemo(function(){return Object(y.e)(h.getSettingObject("isFluentPipEnabled","boolean"))&&document.pictureInPictureEnabled},[d,h]),L=i.a.useMemo(function(){return Object(y.e)(h.getSettingObject("isFluentMtcPlaybackExperienceRtlFixEnabled","boolean"))},[h]),k=i.a.useMemo(function(){return Object(y.e)(h.getSettingObject("isKeyboardShortcutModalFixEnabled","boolean"))},[h]),M=d.getVideoElement(),U=w&&M&&M.requestPictureInPicture,H=i.a.useState(),R=H[0],N=H[1],B=i.a.useRef(null),j=Object(E.o)(d.playbackRate),V=Object(E.o)(d.activeTextTrack),z=Object(E.o)(e.pluginButtonModels),G=i.a.useMemo(function(){var e=f.getElementsByClassName("fluent-critical-ui-container");return e.length?e[0]:f},[f]),K=i.a.useState(function(){return G.clientWidth<T.o}),W=K[0],Q=K[1],Y=i.a.lazy(function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(5),n.e(461)]).then(n.bind(null,3655))}),J=function(){c.closeKeyboardShortcutModal(),B&&B.current&&B.current.focus()};return i.a.useEffect(function(){var e=Object(p.n)(function(){G.clientWidth<T.o?Q(!0):Q(!1)},200),t=new ResizeObserver(e);return t.observe(G),function(){t.disconnect()}},[G]),i.a.useEffect(function(){e.playbackExperienceContainer.style.display=W?"none":"flex"},[W]),i.a.useEffect(function(){for(var n=[],a=function(e){n.push({key:e.id.toString(),render:function(t){return i.a.createElement(Re,{inOverflowMenu:t,tooltipMountNode:R,pluginButtonModel:e})},isVisible:e.isVisibleObservableProperty})},r=0,s=z;r<s.length;r++)a(s[r]);I.length>0&&n.push({key:"captionsButton",render:function(){return i.a.createElement(Te,{tooltipMountNode:R,mtcMenuOpen:e.mtcMenuOpen,icon:i.a.createElement(Se.t,null),tooltipText:Object(y.e)(h.getSettingObject("isFluentCaptionTooltipFixEnabled","boolean"))&&V?Object(v.e)(m.getString("CaptionOnButtonTooltip"),D.e):Object(v.e)(m.getString("CaptionButtonTooltip"),D.e),ariaLabel:m.getString("CaptionButtonAriaLabel"),ariaDescription:Object(v.e)(m.getString("CaptionButtonAriaDescription"),D.e),initalSubmenu:"captionTrack",openUserActionName:"OpenCaptionsMenu",closeUserActionName:"CloseCaptionsMenu",popoverClassName:t.captionsPopover})},subMenu:{buttonTitle:m.getString("CaptionButtonLabel"),buttonIcon:i.a.createElement(Se.t,null),buttonAriaLabel:m.getString("CaptionButtonAriaLabel"),submenuToOpen:"captionTrack",displayChevron:!0}}),b&&n.push({key:"playbackSpeedButton",render:function(){return i.a.createElement(Te,{tooltipMountNode:R,mtcMenuOpen:e.mtcMenuOpen,buttonContents:i.a.createElement(i.a.Fragment,{key:j.toString()},j.toString(),"x"),tooltipText:Object(v.e)(m.getString("PlaybackSpeedTooltip"),D.e),ariaLabel:Object(y.e)(h.getSettingObject("isFluentPlaybackSpeedAriaLabelFixEnabled","boolean"))?Object(v.e)(m.getString("PlaybackSpeedButtonWithCurrentSpeedAriaLabel"),j.toString()):m.getString("PlaybackSpeedButtonAriaLabel"),ariaDescription:Object(v.e)(m.getString("PlaybackSpeedButtonAriaDescription"),D.e),initalSubmenu:"playbackSpeed",openUserActionName:"OpenPlaybackSpeedMenu",closeUserActionName:"ClosePlaybackSpeedMenu",popoverClassName:t.playbackSpeedPopover})},subMenu:{buttonContents:i.a.createElement(Ne,{includeTitle:!0}),buttonAriaLabel:Object(y.e)(h.getSettingObject("isFluentPlaybackSpeedAriaLabelFixEnabled","boolean"))?Object(v.e)(m.getString("PlaybackSpeedButtonWithCurrentSpeedAriaLabel"),j.toString()):m.getString("PlaybackSpeedButtonAriaLabel"),submenuToOpen:"playbackSpeed",displayChevron:!0}}),n.push({key:"playbackSettingsButton",render:function(n){return i.a.createElement(Te,{buttonRef:B,tooltipMountNode:R,mtcMenuOpen:e.mtcMenuOpen,icon:i.a.createElement(F.e,null),tooltipText:m.getString("PlaybackSettingsTooltip"),ariaLabel:m.getString("PlaybackSettingsTooltip"),initalSubmenu:"settingsRoot",openUserActionName:"OpenSettingsMenu",closeUserActionName:"CloseSettingsMenu",popoverClassName:t.settingsPopover})},subMenu:{buttonIcon:i.a.createElement(F.e,null),buttonTitle:m.getString("PlaybackSettingsButtonTitle"),buttonAriaLabel:m.getString("PlaybackSettingsAriaLabel"),submenuToOpen:"settingsRoot",displayChevron:!0}}),U&&n.push({key:"pictureInPictureButton",render:function(e){return i.a.createElement(q,{inOverflowMenu:e,tooltipMountNode:R})}}),n.push({key:"fullScreenToggleButton",render:function(e){return i.a.createElement(A,{inOverflowMenu:e,tooltipMountNode:R})}}),C&&x&&n.push({key:"popOutButton",render:function(e){return i.a.createElement(P,{inOverflowMenu:e,tooltipMountNode:R})}}),o(n)},[I,U,x,C,R,e.mtcMenuOpen,z,j,V]),i.a.createElement(l.e,{theme:u.e,style:{background:"none"},dir:_&&!L?"rtl":"ltr"},i.a.createElement(te,null,i.a.createElement(Ue,{childWidth:32,container:e.playbackExperienceContainer,mtcMenuOpen:e.mtcMenuOpen,menuAriaLabel:m.getString("PlaybackExperienceContainerAriaLabel")},r),i.a.createElement("div",{ref:N}),k?c.isKeyboardShortcutsModalOpen?i.a.createElement(i.a.Suspense,{fallback:i.a.createElement(i.a.Fragment,null)},i.a.createElement(Y,{open:!0,onDismiss:J})):i.a.createElement(i.a.Fragment,null):i.a.createElement(i.a.Suspense,{fallback:i.a.createElement(i.a.Fragment,null)},i.a.createElement(Y,{open:c.isKeyboardShortcutsModalOpen,onDismiss:J}))))},je=n(1349),Ve="rgba(256, 256, 256, 0.5)",ze="--oneplayer-play-progress-percent",Ge="--oneplayer-buff-start-percent",Ke="--oneplayer-buff-end-percent",We="--oneplayer-mouse-hover-tip",qe="--oneplayer-slider-opacity",Qe=Object(m.e)({root:{width:"calc(100%)",cursor:"pointer",minHeight:"12px",minWidth:"100px",opacity:"var(".concat(qe,", 1)"),":hover":{"& .mouse-tip-point":{display:"inline-block"},"& .mtc-markers-container:hover + .mouse-tip-point":{display:"none"}}},input:{cursor:"pointer"},rail:{"@media screen and (-ms-high-contrast: active)":{backgroundImage:"linear-gradient(\n        to right,\n        Highlight 0% var(".concat(ze,", 0%),\n        CanvasText var(").concat(ze,", 0%) var(").concat(Ge,", 0%),\n        GrayText var(").concat(Ge,", 0%) var(").concat(Ke,", 0%),\n        CanvasText 0 100%)"),":before":{backgroundImage:"none"}},backgroundImage:"linear-gradient(\n      to right,\n      ".concat(h.e.White," 0% var(").concat(ze,", 0%),\n      ").concat(Ve," var(").concat(ze,", 0%) var(").concat(Ge,", 0%),\n      ").concat("rgba(256, 256, 256, 0.6)"," var(").concat(Ge,", 0%) var(").concat(Ke,", 0%),\n      ").concat(Ve," 0 100%)\n    "),":before":{backgroundImage:"none"}},hiddenRail:{"@media screen and (-ms-high-contrast: active)":{backgroundImage:"none",":before":{backgroundImage:"none"}},backgroundImage:"none",":before":{backgroundImage:"none"}},thumb:{backgroundColor:h.e.White,boxShadow:"none",width:"12px",height:"12px",":before":Object(c.e)({},_.e.borderColor(h.e.White)),"@media screen and (-ms-high-contrast: active)":{backgroundColor:"Highlight",":before":Object(c.e)({},_.e.borderColor("Highlight"))}},thumbHover:{width:"14px",height:"14px"},container:{backgroundColor:h.e.transparent},markersContainer:{position:"relative",top:"-5px"},mouseHoverPoint:Object(c.e)(Object(c.e)({display:"none",position:"absolute",width:"1px",height:"12px",bottom:"-4px",backgroundColor:h.e.White},_.e.borderWidth("0px")),{left:"var(".concat(We,")")}),tooltip:{zIndex:1e5,pointerEvents:"none"}}),Ye=function(e){return i.a.createElement("div",null,i.a.createElement("div",{ref:e.pluginsDiv,className:"".concat(e.styles.markersContainer," mtc-markers-container")}),i.a.createElement("span",{className:"".concat(e.styles.mouseHoverPoint," mouse-tip-point")}))},Je=function(e){var t=Object(S.i)(),n=t.player,a=t.log,r=t.loc,o=t.settingsStore,s=t.playerContainer,d=n.currentTimeInSeconds.value||0,f=i.a.useState("0:00"),m=f[0],_=f[1],h=i.a.useState(),b=h[0],g=h[1],D=i.a.useRef(null),x=i.a.useRef(null),O=i.a.useRef(null),w=i.a.useRef(null),A=i.a.useState(),L=A[0],k=A[1],M=i.a.useState(),P=M[0],U=M[1],F=i.a.useState(),H=F[0],R=F[1],N=i.a.useState(-1),B=N[0],j=N[1],z=i.a.useState(!1),G=z[0],K=z[1],W=i.a.useState(!1),q=W[0],Q=W[1],Y=i.a.useState(!1),J=Y[0],X=Y[1],Z=i.a.useState(void 0),$=Z[0],ee=Z[1],te=i.a.useState(!1),ne=te[0],ae=te[1],ie=i.a.useState(!1),re=ie[0],oe=ie[1],se=Object(E.i)(e.seekBarRailShown)[0],ce=Qe(),de=i.a.useMemo(function(){var e=s.getElementsByClassName("fluent-critical-ui-container");return e.length?e[0]:s},[s]),le=ce.rail;o.getSetting("isRangeMarkerFeatureEnabled","boolean")&&(le=se?ce.rail:ce.hiddenRail);var ue=function(e){if("number"==typeof e&&x.current&&O.current){var t=Object(T.t)(e,0,n.mediaDurationInSeconds);x.current.style.setProperty(je.e.sliderProgressVar,"".concat(t,"%")),x.current.style.setProperty("".concat(ze),"".concat(t,"%")),O.current.setAttribute("value",e.toString())}},fe=function(e){var t=ne?"".concat(Object(T.e)(e)," / ").concat(Object(T.e)(n.mediaDurationInSeconds)):Object(T.e)(e);_(t)},pe=function(e){k(e?P:H)},me=function(){$&&(clearInterval($),ee(void 0))},_e=function(e){return void 0===e&&(e=!1),e?Object(v.e)(r.getString("SeekBar.AriaValueFormat"),Object(T.e)(n.currentTimeInSeconds.value||0,!0),Object(T.e)(n.mediaDurationInSeconds,!0)):Object(T.e)(n.currentTimeInSeconds.value||0,!0)},he=function(e){void 0===e&&(e=!1),!O.current||J||"Playing"!==n.playState.value||G||e?O.current&&e?O.current.setAttribute("aria-valuetext",_e(!0)):J&&X(!1):O.current.setAttribute("aria-valuetext",_e())};i.a.useEffect(function(){var t=function(){x.current&&(g(x.current.getBoundingClientRect()),x.current.getBoundingClientRect().width+16<T.i?ae(!0):ae(!1))};document.addEventListener("fullscreenchange",t);var a=Object(p.n)(t,200),i=new ResizeObserver(a);t(),Object(y.e)(o.getSettingObject("isFluentSeekbarResizeBugFixed","boolean"))?i.observe(de):x.current&&i.observe(x.current);var r=n.currentTimeInSeconds.subscribe(ue),s=n.bufferedTimeRanges.subscribe(function(e){if(e&&e.length>0&&x.current)for(var t=n.currentTimeInSeconds.value||0,a=0;e.length>0;a++)if(t>=e.start(a)&&t<e.end(a)){x.current.style.setProperty("".concat(Ge),"".concat(Object(T.t)(e.start(a),0,n.mediaDurationInSeconds),"%")),x.current.style.setProperty("".concat(Ke),"".concat(Object(T.t)(e.end(a),0,n.mediaDurationInSeconds),"%"));break}}),c=n.playState.subscribe(function(e){"Playing"===e?(he(),$||ee(setInterval(he,8e3))):me()}),d=e.volumeSliderShown.subscribe(function(e){x.current&&(e?x.current.style.setProperty("".concat(qe),"0.2"):x.current.style.setProperty("".concat(qe),"1"))});return function(){i.disconnect(),r(),s(),c(),d(),document.removeEventListener("fullscreenchange",t)}},[x.current,O.current,de]),i.a.useEffect(function(){var e;return L===P&&(e=n.currentTimeInSeconds.subscribe(function(e){fe(e||0)})),function(){e&&e()}},[L]),i.a.useEffect(function(){return function(){me()}},[]);var be=function(e){return Math.max(0,Math.min(n.mediaDurationInSeconds*(e/100),n.mediaDurationInSeconds))},ge=function(e){var t,n,a;if(b){var i=(e-b.left)/b.width*100,r=be(i),o=window.pageYOffset||document.body.scrollTop;j(r);var s=document.documentElement.clientTop||document.body.clientTop||0;fe(r),x.current&&x.current.style.setProperty("".concat(We),"".concat(i,"%")),null===(t=D.current)||void 0===t||t.setTarget({getBoundingClientRect:(n=e,a=b.top+o-s,void 0===n&&(n=0),void 0===a&&(a=0),function(){return{width:0,height:0,top:a,right:n,bottom:a,left:n,x:0,y:0,toJSON:function(){}}})})}};return i.a.createElement(l.e,{theme:u.e,className:ce.container},i.a.createElement(i.a.Fragment,null,i.a.createElement(C.e,{positioning:{positioningRef:D},content:{children:m,className:ce.tooltip},relationship:"inaccessible",mountNode:L,hideDelay:0},i.a.createElement(V.e,{value:d,min:0,max:n.mediaDurationInSeconds,className:ce.root,root:{ref:x},step:.01,input:{ref:O,className:ce.input,"aria-valuemin":0,"aria-valuemax":100,"aria-label":r.getString("SeekBar.AriaLabel"),"aria-live":"polite",role:"slider"},style:Object(c.e)(Object(c.e)({},{}),{"--fui-Slider__thumb--size":"12px"}),rail:{className:le,children:i.a.createElement(Ye,{pluginsDiv:e.pluginsDiv,styles:ce})},thumb:{className:re?Object(I.e)(ce.thumb,ce.thumbHover):ce.thumb,ref:w,children:i.a.createElement("div",{ref:U})},onMouseMove:function(e){if(pe(!1),b){var t=Math.min(Math.max(e.clientX,b.left),b.right);ge(t)}},onChange:function(e,t){G&&(ue(B),n.currentTimeInSeconds.value=B)},onMouseDown:function(){K(!0),a.userAction("SeekbarAction",{name:"ChangePlaybackTimeStart",playbackTimeSec:n.currentTimeInSeconds.value||-1,actionType:"LeftClick"})},onMouseUp:function(){K(!1),a.userAction("SeekbarAction",{name:"ChangePlaybackTimeEnd",playbackTimeSec:n.currentTimeInSeconds.value||-1,actionType:"LeftClick"})},onMouseEnter:function(){return oe(!0)},onMouseLeave:function(){return oe(!1)},onTouchMove:function(e){if(Object(y.e)(o.getSettingObject("isFluentMtcTouchSliderDragFixEnabled","boolean"))&&(pe(!1),b)){var t=Math.min(Math.max(e.touches[0].clientX,b.left),b.right);ge(t)}},onTouchStart:function(e){if(Object(y.e)(o.getSettingObject("isFluentMtcTouchSliderDragFixEnabled","boolean"))&&(K(!0),a.userAction("SeekbarAction",{name:"ChangePlaybackTimeStart",playbackTimeSec:n.currentTimeInSeconds.value||-1,actionType:"Touch"}),b)){var t=(Math.min(Math.max(e.touches[0].clientX,b.left),b.right)-b.left)/b.width*100,i=be(t);n.currentTimeInSeconds.value=i}},onTouchEnd:function(){Object(y.e)(o.getSettingObject("isFluentMtcTouchSliderDragFixEnabled","boolean"))&&(K(!1),a.userAction("SeekbarAction",{name:"ChangePlaybackTimeEnd",playbackTimeSec:n.currentTimeInSeconds.value||-1,actionType:"Touch"}))},onFocusCapture:function(){var e;pe(!0),q||(he(!0),X(!0),Q(!0),fe(n.currentTimeInSeconds.value||0),w.current&&(null===(e=D.current)||void 0===e||e.setTarget(w.current)))},onBlur:function(){Q(!1),pe(!1)},onKeyDown:function(e){switch(e.key){case"ArrowLeft":if(void 0!==n.currentTimeInSeconds.value&&0!==n.currentTimeInSeconds.value){var t=Math.max(n.currentTimeInSeconds.value-5,0);n.currentTimeInSeconds.value=t}break;case"ArrowRight":void 0!==n.currentTimeInSeconds.value&&n.currentTimeInSeconds.value!==n.mediaDurationInSecondsV2.value&&(t=Math.min(n.currentTimeInSeconds.value+5,n.mediaDurationInSecondsV2.value),n.currentTimeInSeconds.value=t)}},onKeyUp:function(e){switch(e.key){case"ArrowLeft":case"ArrowRight":a.userAction("SeekbarAction",{name:"ChangePlaybackTimeEnd",playbackTimeSec:n.currentTimeInSeconds.value||-1,actionType:"KeyDown"})}}})),i.a.createElement("div",{ref:R})))};function Xe(e){var t=e.playbackControlsContainer,n=e.playbackExperienceContainer,a=e.seekBarContainer,r=e.seekBarRailShown,s=e.mtcMenuOpen,c=e.volumeSliderShown,d=e.seekBarPluginsDiv,l=e.player,u=e.loc,f=e.log,p=e.playerContainer,m=e.settingsStore,_=e.showPlaybackSpeed,h=e.showPopOutButton,b=e.themeData,g=e.getHostTheme,v=e.pluginButtonModels,y=e.overflowButtons,D=e.reportUserActivity,I=e.pluginsKeyboardShortcuts,x=e.criticalPlaybackContainer,C=e.playerRegionContainer,O=e.isNextGenEngineEnabled,w=e.popOutButtonItemUrlQueryStringProperties,E=e.getItemUrl;return i.a.createElement(S.e,{loc:u,log:f,player:l,playerContainer:p,settingsStore:m,showPlaybackSpeed:_,showPopOutButton:h,themeData:b,getHostTheme:g,overflowButtons:y,reportUserActivity:D,pluginsKeyboardShortcuts:I,criticalPlaybackContainer:x,playerRegionContainer:C,isNextGenEngineEnabled:O,popOutButtonItemUrlQueryStringProperties:w,getItemUrl:E},i.a.createElement(function(){return o.a.createPortal(i.a.createElement(W,{playbackControlsContainer:t,volumeSliderShown:c}),t)},null),i.a.createElement(function(){return o.a.createPortal(i.a.createElement(Je,{pluginsDiv:d,volumeSliderShown:c,seekBarRailShown:r}),a)},null),i.a.createElement(function(){return o.a.createPortal(i.a.createElement(Be,{playbackExperienceContainer:n,pluginButtonModels:v,mtcMenuOpen:s}),n)},null))}var Ze,$e=function(e,t,n){if(e.current&&t.current){var a=e.current.getBoundingClientRect(),i=Math.min(a.width,a.height)*n;t.current.style.width=i+"px",t.current.style.height=i+"px"}},et="spinningAnimation",tt={observed:{position:"absolute",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},container:{position:"absolute",minWidth:"28px",minHeight:"28px"},loadingSpinner:{position:"absolute",boxSizing:"border-box",borderRadius:"50%",borderWidth:"3.5px",borderStyle:"solid",borderColor:"#ffffff #8a8886 #8a8886 #8a8886",animationName:et,animationDuration:"1.5s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(0.53, 0.21, 0.29, 0.67)",width:"100%",height:"100%"},none:{display:"none"}},nt="\n    @keyframes ".concat(et," {\n        0% {transform: rotate(0deg)}\n        100% {transform: rotate(360deg)}\n    }"),at=function(){var e,t;e=nt,t=document.createElement("style"),document.head.appendChild(t),t.sheet.insertRule(e,0);var n=a.useRef(null),i=a.useRef(null),r=a.useState(!1),o=r[0],s=r[1];return a.useEffect(function(){var e=new ResizeObserver(function(){$e(n,i,.15),s(!0)});return n.current&&i.current&&e.observe(n.current),function(){e.disconnect()}}),a.createElement("div",{ref:n,style:tt.observed},a.createElement("div",{ref:i,style:tt.container},a.createElement("div",{"data-testid":"loading-spinner",style:o?tt.loadingSpinner:tt.none})))},it=Object(m.e)({observed:{position:"absolute",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},container:{position:"absolute",minWidth:"56px",minHeight:"56px",cursor:"pointer",zIndex:"1"},none:{display:"none"},playButtonIcon:{color:"#FFFFFF",width:"100%",height:"100%",filter:"drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.4))",":hover":{cursor:"pointer"},"@media screen and (-ms-high-contrast: active)":{color:"Highlight"}},button:Object(c.e)(Object(c.e)(Object(c.e)(Object(c.e)(Object(c.e)(Object(c.e)(Object(c.e)(Object(c.e)({width:"100%",height:"100%",color:"inherit","& .playIcon":{width:"100%",height:"100%",filter:"drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.4))",":hover":{cursor:"pointer"},"@media screen and (-ms-high-contrast: active)":{color:"Highlight"}}},_.e.padding("0")),{cursor:"pointer"}),_.e.outline("inherit")),{backgroundImage:"none",backgroundPositionX:"initial",backgroundPositionYionY:"initial",backgroundSize:"initial",backgroundRepeatX:"initial",backgroundrepeatY:"initial",backgroundAttachment:"initial",backgroundOrigin:"initial",backgroundClip:"initial",backgroundColor:"initial"}),_.e.borderColor("none")),_.e.borderStyle("none")),_.e.borderWidth("none")),{":active:focus":Object(c.e)(Object(c.e)(Object(c.e)({},_.e.borderColor("none")),_.e.borderStyle("none")),_.e.borderWidth("none")),":focus":Object(c.e)({},_.e.border("1px","solid","white"))})}),rt=function(e){var t=it(),n=a.useState(!1),i=n[0],r=n[1],o=a.useRef(null),s=a.useRef(null),c=Object(y.e)(e.settingStore.getSettingObject("isBigPlayButtonWidthFixEnabled","boolean"));return a.useEffect(function(){var e=new ResizeObserver(function(){$e(o,s,.2),r(!0)});return o.current&&e.observe(o.current),function(){e.disconnect()}},[e.player.loadingState.value,e.player.playState.value]),a.createElement("div",{ref:o,className:t.observed},a.createElement("div",{ref:s,className:i?t.container:t.none},a.createElement("button",{className:t.button,onClick:function(){e.player.playState.value="Playing"},"data-testid":"big-play-button",title:e.loc.getString("BigPlayButtonTitle")},c?a.createElement(M.a,{className:"playIcon",primaryFill:"#FFF"}):a.createElement(M.a,{className:t.playButtonIcon}))))},ot=n(52),st=(n(2102),function(){function e(t,n){this.pluginIdentifier=t,this.props=n,this.id=e.nextId++,this.tooltipObservableProperty=new ot.e(this.props.tooltip),this.iconObservableProperty=new ot.e(this.props.icon),this.userActionNameObservableProperty=new ot.e(this.props.userActionName),this.isEnabledObservableProperty=new ot.e(this.props.isEnabled),this.isVisibleObservableProperty=new ot.e(this.props.isVisible),this.isUnderlinedObservableProperty=new ot.e(this.props.isUnderlined),this.ariaLabelObservableProperty=new ot.e(this.props.ariaLabel),this.ariaDescriptionObservableProperty=new ot.e(this.props.ariaDescription)}return Object.defineProperty(e.prototype,"tooltip",{get:function(){return this.tooltipObservableProperty.value},set:function(e){this.tooltipObservableProperty.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this.iconObservableProperty.value},set:function(e){this.iconObservableProperty.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userActionName",{get:function(){return this.userActionNameObservableProperty.value},set:function(e){this.userActionNameObservableProperty.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.isEnabledObservableProperty.value},set:function(e){this.isEnabledObservableProperty.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.isVisibleObservableProperty.value},set:function(e){this.isVisibleObservableProperty.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUnderlined",{get:function(){return this.isUnderlinedObservableProperty.value},set:function(e){this.isUnderlinedObservableProperty.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ariaLabel",{get:function(){return this.ariaLabelObservableProperty.value},set:function(e){this.ariaLabelObservableProperty.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ariaDescription",{get:function(){return this.ariaDescriptionObservableProperty.value},set:function(e){this.ariaDescriptionObservableProperty.value=e},enumerable:!1,configurable:!0}),e.nextId=0,e}()),ct=n(432),dt=n(698),lt=n(1945),ut=function(){function e(e,t,n,i,o,c,d,l,u,f){var p=this;this.config=e,this.context=t,this.playerUiObservables=n,this.player=i,this.loadMode=o,this.overlayBranding=c,this.showMetadataOverlay=d,this.themeData=l,this.getItemUrl=u,this.popOutButtonItemUrlQueryStringProperties=f,this._pluginMarkersContainer=null,this._isActive=new ot.e(!1),this.pluginsKeyboardShortcuts=new ot.e(new Map),this.userActivity=!1,this.oldState=!1,this.brandingElement=document.createElement("div"),this.titleElement=document.createElement("div"),this.loadingSpinnerContainer=document.createElement("div"),this.bigPlayButtonContainer=document.createElement("div"),this.playerRegionContainer=void 0,this.titleContainer=document.createElement("div"),this.brandingContainer=document.createElement("div"),this.mtcUiWrapperContainer=document.createElement("div"),this.mouseIntervalId=void 0,this.uiObservablesUnsubscribers=[],this.volumeSliderShown=new ot.e(!1),this.mtcMenuOpen=new ot.e(!1),this.pluginButtonModels=new ot.e([]),this.fluentMtcContainer=void 0,this.overlayGradientContainer=void 0,this._detailsButtonContainer=document.createElement("div"),this.brandingOverlayGradient=document.createElement("div"),this._hasCreatedNativeListeners=!1,this.seekBarRailShown=new ot.e(!0),this.initializeSpinnerAndBigPlayButton=function(e){if(e){var t=console.error;console.error=function(e){var n=["fb.me/invalid-aria-prop"];e&&!n.some(function(t){return e.includes(t)})&&t.apply(console,arguments)}}var n={log:p.context.log,loc:p.context.loc,player:p.player,settingStore:p.context.settingsStore},i=a.createElement(rt,n),o=a.createElement(at);Object(r.render)(i,p.bigPlayButtonContainer),Object(r.render)(o,p.loadingSpinnerContainer),p.updateElementVisibility(p.loadingSpinnerContainer,"visible"),p.context.longLivedQosEvents.tryCallEnd("firstContentfulPaintQos")},this.initializeMediaTransportControlUi=function(e){var t=p.config.playbackControlsContainer.parentElement;t&&t.classList.contains("mtc-controls")&&t.setAttribute("aria-label",p.context.loc.getString("MtcControlsRegionAria"));var n={player:p.player,log:p.context.log,loc:p.context.loc,playerContainer:p.config.playerContainer,settingsStore:p.context.settingsStore,showPlaybackSpeed:e,showPopOutButton:p.playerUiObservables.showPopOutButton,playbackExperienceContainer:p.config.playbackExperienceContainer,playbackControlsContainer:p.config.playbackControlsContainer,seekBarContainer:p.config.seekBarContainer,seekBarRailShown:p.seekBarRailShown,seekBarPluginsDiv:a.createRef(),mtcMenuOpen:p.mtcMenuOpen,volumeSliderShown:p.volumeSliderShown,themeData:p.themeData,getHostTheme:p.getHostTheme.bind(p),pluginButtonModels:p.pluginButtonModels,overflowButtons:new ot.e([]),reportUserActivity:p.reportUserActivity,pluginsKeyboardShortcuts:p.pluginsKeyboardShortcuts,criticalPlaybackContainer:p.config.criticalPlaybackContainer,playerRegionContainer:p.playerRegionContainer,isNextGenEngineEnabled:p.context.isNextGenEngineEnabled,popOutButtonItemUrlQueryStringProperties:p.popOutButtonItemUrlQueryStringProperties,getItemUrl:p.getItemUrl},i=a.createElement(Xe,n);Object(r.render)(i,p.mtcUiWrapperContainer),p._pluginMarkersContainer=n.seekBarPluginsDiv.current},this.showBigPlayButton=function(){p.updateElementVisibility(p.loadingSpinnerContainer,"hidden"),p.updateElementVisibility(p.bigPlayButtonContainer,"visible"),p.updateElementVisibility(p.brandingContainer,"visible"),p.showMetadataOverlay&&(p.updateElementVisibility(p.titleContainer,"visible"),p.overlayGradientContainer&&p.updateElementVisibility(p.overlayGradientContainer,"visible"))},this.initUiObservables=function(e,t){var n=p.playerUiObservables.isBuffering.subscribe(function(e){return e?p.updateElementVisibility(p.loadingSpinnerContainer,"visible"):p.updateElementVisibility(p.loadingSpinnerContainer,"hidden")});if(p.uiObservablesUnsubscribers.push(n),p.showMetadataOverlay){var a=p.playerUiObservables.titleObservable.subscribe(function(e){p.titleElement.innerText=e||""});p.uiObservablesUnsubscribers.push(a)}var i=p.player.loadingState.subscribe(function(e){"CanPlayThrough"===e&&(Object(y.e)(p.context.settingsStore.getSettingObject("isFluentMtcShowMtcOnTapEnabled","boolean"))?p.config.onePlayerOverlayContainer.addEventListener("pointerdown",p.handleClick):p.config.onePlayerOverlayContainer.addEventListener("click",p.deprecatedHandleClick),(p.player.autoplayFailed.value||"autoplayOff"===t)&&p.showBigPlayButton())});p.uiObservablesUnsubscribers.push(i);var r=p.player.autoplayFailed.subscribe(function(e){e&&"CanPlayThrough"===p.player.loadingState.value&&p.showBigPlayButton()});p.uiObservablesUnsubscribers.push(r);var o=p._isActive.subscribe(function(e){p.playerUiObservables.isPreRoll.value||(e?(p.animateMtc("fadeIn"),p.showMetadataOverlay&&p.animateElement(p.titleContainer,"fadeIn")):(p.animateMtc("fadeOut"),p.showMetadataOverlay&&p.animateElement(p.titleContainer,"fadeOut")))});p.uiObservablesUnsubscribers.push(o);var s=p.mtcMenuOpen.subscribe(function(){p.reportUserActivity()});p.uiObservablesUnsubscribers.push(s);var c=p.volumeSliderShown.subscribe(function(){p.reportUserActivity()});p.uiObservablesUnsubscribers.push(c);var d=e.playState.subscribe(function(e){"Playing"===e&&(p.updateElementVisibility(p.bigPlayButtonContainer,"hidden"),p.updateElementVisibility(p.loadingSpinnerContainer,"hidden")),"Playing"!==e||"CanPlayThrough"!==p.player.loadingState.value||!Object(y.e)(p.context.settingsStore.getSettingObject("isFluentShowMtcOnBigPlayButtonSelectedFixEnabled","boolean"))&&"autoplayOn"!==t||(p.animateMtc("fadeIn"),p.reportUserActivity())});p.uiObservablesUnsubscribers.push(d)},this.reportUserActivity=function(){p.userActivity=!0},this.deprecatedHandleClick=function(){"Playing"===p.player.playState.value?p.player.playState.value="Paused":"Paused"===p.player.playState.value&&(p.player.playState.value="Playing"),p.reportUserActivity(),p.animateMtc("fadeIn"),!p.playerUiObservables.isPreRoll.value&&p.showMetadataOverlay&&p.animateElement(p.titleContainer,"fadeIn"),p.context.log.userAction("PlayerPlayPauseAction",{name:"Paused"===p.player.playState.value?"Play":"Pause",playbackTimeSec:p.player.currentTimeInSeconds.value||-1,actionType:"LeftClick"})},this.handleClick=function(e){"touch"===e.pointerType||"pen"===e.pointerType||("Playing"===p.player.playState.value?p.player.playState.value="Paused":"Paused"===p.player.playState.value&&(p.player.playState.value="Playing"),p.reportUserActivity(),p.animateMtc("fadeIn"),!p.playerUiObservables.isPreRoll.value&&p.showMetadataOverlay&&p.animateElement(p.titleContainer,"fadeIn"),p.context.log.userAction("PlayerPlayPauseAction",{name:"Paused"===p.player.playState.value?"Play":"Pause",playbackTimeSec:p.player.currentTimeInSeconds.value||-1,actionType:"LeftClick"}))},this.userActive=function(e){e!==p.oldState&&(e?(p.oldState=!0,p._isActive.value=!0):(p.oldState=!1,p._isActive.value=!1))},this.listenForUserActivity=function(){var e;p.initActivityListeners(),window.setInterval(function(){p.userActivity&&(p.userActivity=!1,p.userActive(!0),clearTimeout(e),e=window.setTimeout(function(){p.userActivity||"Playing"!==p.player.playState.value||p.volumeSliderShown.value||p.mtcMenuOpen.value||p.userActive(!1)},3e3))},250)},this.initActivityListeners=function(){p.config.playerContainer.addEventListener("mousemove",p.reportUserActivity),p.config.playerContainer.addEventListener("touchend",p.reportUserActivity),p.config.playerContainer.addEventListener("mousedown",p.handleMouseDown),p.config.playerContainer.addEventListener("mouseup",p.handleMouseUp),p.config.playerContainer.addEventListener("keydown",p.reportUserActivity),p.config.playerContainer.addEventListener("keyup",p.reportUserActivity)},this.handleMouseDown=function(){p.reportUserActivity(),window.clearInterval(p.mouseIntervalId),p.mouseIntervalId=window.setInterval(p.reportUserActivity,250)},this.handleMouseUp=function(){p.reportUserActivity(),window.clearInterval(p.mouseIntervalId)},this.animateElement=function(e,t){"fadeOut"===t?(e.classList.remove("fade-in"),e.classList.add("fade-out")):"fadeIn"===t&&(e.classList.remove("fade-out"),e.classList.add("fade-in"),e.style.visibility="visible")},this.animateMtc=function(e){"fadeIn"===e&&(p.animateElement(p.brandingElement,"fadeOut"),Object(y.e)(p.context.settingsStore.getSettingObject("isFluentMtcGradientShadowFixEnabled","boolean"))&&p.animateElement(p.brandingOverlayGradient,"fadeOut"),clearTimeout(Ze),p.config.playerContainer.style.setProperty(s.e.captionsTrackInset,"0px 0px 88px 0px")),p.fluentMtcContainer&&p.animateElement(p.fluentMtcContainer,e),p.overlayGradientContainer&&p.animateElement(p.overlayGradientContainer,e),p._detailsButtonContainer&&p.animateElement(p._detailsButtonContainer,e),"fadeOut"===e&&(Ze=window.setTimeout(function(){p.config.playerContainer.style.setProperty(s.e.captionsTrackInset,"var(".concat(s.e.captionsTrackMtcHiddenInset,")"))},300))},this.listenForNativeDeviceEvents=function(){p.player.isPlayerReady.subscribe(function(e){var t;if(e&&!p._hasCreatedNativeListeners){var n=p.nativeEventScreenSpeechMapping(),a=function(e){null===(t=p.player.getVideoElement())||void 0===t||t.addEventListener(e,function(){var t,a=null===(t=n[e])||void 0===t?void 0:t.call(n);a&&Object(_e.e)(a,!0)})};for(var i in n)a(i);p._hasCreatedNativeListeners=!0}})},this.nativeEventScreenSpeechMapping=function(){return{playing:function(){return p.context.loc.getString("VideoPlayingMessage")},pause:function(){return p.context.loc.getString("VideoPausedMessage")},seeking:function(){var e,t=Object(y.e)(p.context.settingsStore.getSettingObject("isScreenAlertOnNativeTimeEnabled","boolean"))?null===(e=p.player.getVideoElement())||void 0===e?void 0:e.currentTime:p.player.currentTimeInSeconds.value,n=Object(ct.e)(Object(lt.t)(Object(lt.a)(t||0)),p.context.loc);return Object(v.e)(p.context.loc.getString("VideoSeekingMessage"),n)}}},this.configureUiContainers(),this.initUiObservables(n,this.loadMode),this.listenForUserActivity(),this.context.isNextGenEngineEnabled&&Object(y.e)(this.context.settingsStore.getSettingObject("isNextGenEngineScreenAlertEnabled","boolean"))&&this.listenForNativeDeviceEvents();var m=this.config.playerContainer.getElementsByClassName("fluent-mtc-container");this.fluentMtcContainer=m.length?m[0]:void 0;var _=this.config.onePlayerOverlayContainer.getElementsByClassName("overlay-gradient-background");this.overlayGradientContainer=_.length?_[0]:void 0}return Object.defineProperty(e.prototype,"pluginMarkersContainer",{get:function(){return this._pluginMarkersContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"detailsButtonContainer",{get:function(){return this._detailsButtonContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),e.prototype.addPlaybackExperienceButton=function(e,t){var n=new st(e,t);if(t.keyboardShortcut){var a=!1;S.t.includes(t.keyboardShortcut.code)&&(this.context.log.warn("PluginError","This KeyboardEvent code is already used by a core MTC shortcut",{isExpected:!0,name:"InvalidPluginShortcutKeyboardEventCode",pluginName:e.pluginName,pluginVersion:e.pluginVersion}),a=!0);var i=this.pluginsKeyboardShortcuts.value.get(t.keyboardShortcut.code);i&&(this.context.log.warn("PluginError","This KeyboardEvent code is already used by ".concat(i.pluginName," plugin shortcut"),{isExpected:!0,name:"InvalidPluginShortcutKeyboardEventCode",pluginName:e.pluginName,pluginVersion:e.pluginVersion}),a=!0),a||this.pluginsKeyboardShortcuts.value.set(t.keyboardShortcut.code,{pluginName:e.pluginName,callback:t.keyboardShortcut.callback})}var r=this.pluginButtonModels.value.slice();return r.push(n),this.pluginButtonModels.value=r,n},e.prototype.setSeekBarRailShown=function(e){this.seekBarRailShown.value=e},e.prototype.unload=function(){this.uiObservablesUnsubscribers.forEach(function(e){return e()}),Object(r.unmountComponentAtNode)(this.mtcUiWrapperContainer),Object(r.unmountComponentAtNode)(this.bigPlayButtonContainer),Object(r.unmountComponentAtNode)(this.loadingSpinnerContainer)},e.prototype.getHostTheme=function(){if(!this._hostTheme){var e=Object(dt.e)(this.context.log,this.themeData).hostTheme;this._hostTheme=e}return this._hostTheme},e.prototype.configureUiContainers=function(){this.loadingSpinnerContainer.classList.add("loading-spinner"),this.bigPlayButtonContainer.classList.add("big-play-button"),this.brandingContainer.classList.add("branding-container"),this._detailsButtonContainer.classList.add("details-button-container"),Object(y.e)(this.context.settingsStore.getSettingObject("isFluentMtcFixFullscreenDblClickContainerEnabled","boolean"))&&(this.playerRegionContainer=document.createElement("div"),this.playerRegionContainer.classList.add("player-region-container"),this.playerRegionContainer.style.width="100%",this.playerRegionContainer.style.height="100%",this.playerRegionContainer.style.zIndex="0",this.playerRegionContainer.style.position="absolute",this.playerRegionContainer.style.top="0"),this.brandingElement.classList.add("branding-element"),this.brandingElement.innerText=this.overlayBranding||"",this.brandingOverlayGradient.classList.add("branding-overlay-gradient"),Object(y.e)(this.context.settingsStore.getSettingObject("isFluentMtcGradientShadowFixEnabled","boolean"))&&this.brandingContainer.appendChild(this.brandingOverlayGradient),this.brandingContainer.appendChild(this.brandingElement),this.config.onePlayerOverlayContainer.appendChild(this.loadingSpinnerContainer),this.config.onePlayerOverlayContainer.appendChild(this.bigPlayButtonContainer),this.config.onePlayerOverlayContainer.appendChild(this.brandingContainer),Object(y.e)(this.context.settingsStore.getSettingObject("isFluentMtcFixFullscreenDblClickContainerEnabled","boolean"))&&this.playerRegionContainer&&this.config.onePlayerOverlayContainer.appendChild(this.playerRegionContainer),this.showMetadataOverlay&&(this.titleElement.classList.add("item-title"),this.titleContainer.appendChild(this.titleElement));var e="";Object(y.e)(this.context.settingsStore.getSettingObject("isGradientShadowForNextGenEngineFixEnabled","boolean"))?e="--gradient-fix-v2":Object(y.e)(this.context.settingsStore.getSettingObject("isFluentMtcGradientShadowFixEnabled","boolean"))&&(e="--gradient-fix"),this.titleContainer.classList.add("item-title-container".concat(e)),this.titleContainer.appendChild(this._detailsButtonContainer),this.config.onePlayerOverlayContainer.appendChild(this.titleContainer)},e.prototype.updateElementVisibility=function(e,t){e.style.visibility=t},e}()},2102:function(e,t,n){var a=n(2103),i=n(272);"string"==typeof a&&(a=[[e.i,a]]);for(var r=0;r<a.length;r++)i.loadStyles(a[r][1],!1);a.locals&&(e.exports=a.locals)},2103:function(e,t,n){(t=n(225)(!1)).push([e.i,"",""]),e.exports=t},316:function(e,t,n){"use strict";n.d(t,"t",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"o",function(){return o}),n.d(t,"i",function(){return s}),n.d(t,"r",function(){return c}),n.d(t,"a",function(){return d}),n.d(t,"n",function(){return l});var a=n(3264),i=function(e,t,n){return n===t?0:(e-t)/(n-t)*100},r=function(e,t){void 0===t&&(t=!1);var n="",a="0:",i="00",r=Math.floor(e);if(r/3600>=1){var o=Math.floor(r/3600);n=o<10&&t?"0".concat(o,":"):"".concat(o,":"),r%=3600,a="00:"}else t&&(n="00:");if(r/60>=1){var s=Math.floor(r/60);a=s<=9&&(t||n.length)?"0"+s.toString():s.toString(),a+=":",r%=60}else t&&(a="00:");if(r>0){var c=r;i=c<=9?"0"+c.toString():c.toString()}return"".concat(n).concat(a).concat(i)},o=200,s=427,c=204,d=68,l=function(e){return e&&Object(a.r)()?sessionStorage.getItem("OnePlayer.mtcOptions/playbackSpeed"):null}},3407:function(e,t,n){"use strict";n.d(t,"e",function(){return r});var a,i=n(3264);!function(e){e.Option="Option",e.Alt="Alt"}(a||(a={}));var r=Object(i.a)()?a.Option:a.Alt},357:function(e,t,n){"use strict";n.d(t,"t",function(){return a}),n.d(t,"n",function(){return i}),n.d(t,"e",function(){return r});var a="#FAF9F8",i="#BC1948",r={Black:"black",BlackReddishBackground:"rgba(27, 26, 25, 0.75)",BlackReddishBackgroundHover:"rgba(50, 49, 48, 0.75)",DarkTransparent:"#000000CC",DarkGray:"#414141",DimGray:"#666666",LightBlue:"#E3ECFA",LightGray:"#C8C8C8",Link:"#C30052",MedGray1:"#BEBBB8",MedGray2:"#A19F9D",OffGray:"#D2D0CE",White:"white",WhiteCurrent:"rgba(255, 255, 255, 0.15)",WhiteHover:"rgba(255, 255, 255, 0.30)",Gray200:"#1B1A19",Gray190:"#201F1E",Gray170:"#292827",Gray170WithOpacity:"rgba(41, 40, 39, 0.8)",Gray130:"#605E5C",Gray150:"#3B3A39",Gray160:"#323130",Gray120:"#797775",Gray110:"#8a8886",Gray100:"#979593",Gray90:"#A19F9D",Gray80:"#B3B0AD",Gray70:"#BFBFBF",Gray60:"#C8C6C4",Gray50:"#d2d0ce",Gray40:"#E1DFDD",Gray30:"#EDEBE9",Gray20:"#F3F2F1",Green10:"#498205",Orange20:"#CA5010",Gray100Transparent:"#97959380",Orange30:"#8E562E",VeryDarkGray:"#4a4a4a",VeryLightGray:"#EAEAEA",EvenLighterGray:"#F4F3F2",EvenDarkerGray:"#212121",Disabled:"#C2C2C2",linkColorDarkBg:"#D2D0CE",linkColorDarkBgHover:"#BEBBB8",linkColorDarkBgActive:"#A19F9D",linkHoverColor:i,slate:"rgba(31, 26, 26, 0.85)",transparentBlack:"rgba(0, 0, 0, 0.6)",transparent:"rgba(255, 255, 255, 0)",LightGrayBackground:"rgba(255, 255, 255, 0.5)",Background:a,Border:"#E1DFDD",OverlayPanelBackground:"rgba(37, 36, 35, 0.95)",OverlayPanelBackgroundOpaque:"rgb(37, 36, 35)",DarkModeShimmerBase:"rgb(50, 49, 48)",DarkModeShimmerWave:"rgb(41, 40, 39)",DarkModeDisabledText:"rgb(121, 119, 117)",LightModeDisabledText:"rgb(161, 159, 157)",themeLight:"#eda6c3",themeDarkAlt:"#AA1640",BluePrimary:"#0078D4",BlueShade10:"#106EBE",BlueTint30:"#DEECF9",BlueTint100:"#005A9E",BlackOpaque:"#252423",Purple:"#320022",Gray160Hover:"rgba(50, 49, 48, 0.8)",Gray150Active:"rgba(59, 58, 57, 0.8)",GrayDisabled:"#5C5C5C"}},694:function(e,t,n){"use strict";n.d(t,"r",function(){return r}),n.d(t,"s",function(){return o}),n.d(t,"a",function(){return s}),n.d(t,"t",function(){return c}),n.d(t,"n",function(){return d}),n.d(t,"o",function(){return l}),n.d(t,"i",function(){return u}),n.d(t,"e",function(){return f});var a=n(43),i=n.n(a);function r(e){var t=i.a.useRef();return i.a.useEffect(function(){t.current=e},[e]),t.current}function o(e){var t=i.a.useRef(!1),n=i.a.useRef(null);return t.current||(n.current=e(),t.current=!0),n}function s(e,t){var n=o(e),a=i.a.useRef(!0);return i.a.useEffect(function(){a.current?a.current=!1:n.current=e()},t),n.current}function c(e,t){s(e,t)}function d(){var e=i.a.useRef(!1);return i.a.useEffect(function(){return function(){e.current=!0}},[]),e}function l(e){var t=i.a.useState(null==e?void 0:e.value),n=t[0],a=t[1];return i.a.useEffect(function(){if(e)return e.subscribe(function(e){return a(e)})},[e]),void 0!==e?n:void 0}function u(e){var t=i.a.useState(e.value),n=t[0],a=t[1];return i.a.useEffect(function(){var t=e.subscribe(function(e){a(e)});return function(){t()}},[e]),[n,function(t){e.value=t}]}var f=function(e){i.a.useEffect(function(){if(e&&e.current)for(var t=e.current;t.children.length>0;){if("BUTTON"===t.children[0].tagName||"menuitem"===t.children[0].role){t.children[0].focus();break}t=t.children[0]}},[e.current])}},698:function(e,t,n){"use strict";n.d(t,"e",function(){return p});var a,i,r=n(0),o=n(2123),s=n(1082),c=n(2124),d=n(76),l=n(558),u=((a={})[o.e.primaryColor]="#BC1948",a),f=((i={})[o.e.primaryColor]="#E8467C",i[o.e.foregroundColor]="#F3F2F1",i[o.e.backgroundColor]="#1B1A19",i),p=function(e,t){if(void 0===t&&(t={}),t.fluentTheme)return m(t.fluentTheme,t.disableLoadTheme);var n=t.base&&t.base.isStandardTheme,a=n?u:f,i=Object(r.e)({},a);["primaryColor","backgroundColor","foregroundColor"].forEach(function(n){var a=t.base&&t.base[n],r=!1,c=n;if(a)if(Object(s.e)(a))r=!0,i[o.e[c]]=a;else{var d="#".concat(a);Object(s.e)(d)&&(r=!0,i[o.e[c]]=d)}r||e.warn("ConfigurationError",Object(l.n)("".concat(n," value invalid")),{name:"ThemeColorValueInvalid",isExpected:!1})});var d=Object(o.t)();[o.e.primaryColor,o.e.backgroundColor,o.e.foregroundColor].forEach(function(e){i[e]&&c.e.setSlot(d[o.e[e]],i[e],!n,!0,!0)});try{c.e.insureSlots(d,!n)}catch(t){e.warn("ConfigurationError",t,{name:"InsureSlotsForThemeFailed",isExpected:!1}),d=Object(o.t)(),c.e.insureSlots(d,!1)}var p={palette:c.e.getThemeAsJson(d),isInverted:!n};return m(p,t.disableLoadTheme)},m=function(e,t){var n=Object(d.e)(e);return t||Object(d.a)(n),{hostTheme:n}}},863:function(e,t,n){"use strict";n.d(t,"e",function(){return a});var a=function(e,t){t?i(e):r(e)},i=function(e){var t="stream-screen-reader-status-container",n=document.getElementById(t);n||((n=o(t)).setAttribute("role","log"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-relevant","additions"),window.setTimeout(function(){n.innerHTML=" ".concat(n.innerHTML)},500));var a=document.createElement("span");a.textContent=e,null==n||n.append(a)},r=function(e){var t="stream-screen-reader-alert-container",n=document.getElementById(t);n||(n=o(t));var a=document.createElement("div");a.setAttribute("role","alert"),a.setAttribute("aria-live","assertive"),a.textContent=e,n.append(a)},o=function(e){var t=document.createElement("div");return t.setAttribute("id",e),t.setAttribute("style","position:absolute;text-indent:-9999px;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;border:0;"),window.addEventListener("blur",function(){t.textContent=""}),document.body.append(t),t}}}]);